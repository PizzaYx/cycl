{"version":3,"file":"register.js","sources":["pages/user/register.vue","pages/user/register.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <PageHeader title=\"注册\" @back=\"back\" />\n\n        <view class=\"register-form\">\n            <view class=\"inputInfo\">\n                <view class=\"input-group\">\n                    <view class=\"zh\">账号(手机号):</view>\n                    <input class=\"account\" placeholder=\"请输入11位手机号\" type=\"number\" placeholder-class=\"input-placeholder\"\n                        v-model=\"formData.username\" maxlength=\"11\" />\n                </view>\n\n                <view class=\"input-group\">\n                    <view class=\"zh\">昵称:</view>\n                    <input class=\"account\" placeholder=\"请输入昵称\" type=\"text\" placeholder-class=\"input-placeholder\"\n                        v-model=\"formData.nickname\" />\n                </view>\n\n                <view class=\"input-group\">\n                    <view class=\"zh mm\">密码:</view>\n                    <input class=\"account password\" placeholder=\"请输入密码(至少6位)\" type=\"password\"\n                        placeholder-class=\"input-placeholder\" v-model=\"formData.password\" />\n                </view>\n\n                <view class=\"input-group\">\n                    <view class=\"zh mm\">确认密码:</view>\n                    <input class=\"account password\" placeholder=\"请再次输入密码\" type=\"password\"\n                        placeholder-class=\"input-placeholder\" v-model=\"formData.confirmPassword\" />\n                </view>\n            </view>\n\n            <view class=\"register-button\">\n                <button class=\"register-btn\" @click=\"handleRegister\">注册</button>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport {\n    apiPostRegister\n} from '@/api/apis.js'\nimport PageHeader from '@/components/PageHeader/PageHeader.vue'\n\n// 表单数据\nconst formData = ref({\n    username: '',\n    nickname: '',\n    password: '',\n    confirmPassword: ''\n})\n\n\n\n// 返回上一页\nconst back = () => {\n    uni.navigateBack()\n}\n\n// 验证手机号格式\nconst validatePhone = (phone) => {\n    const phoneRegex = /^1[3-9]\\d{9}$/\n    return phoneRegex.test(phone)\n}\n\n// 处理注册\nconst handleRegister = () => {\n    if (!formData.value.username) {\n        uni.showToast({\n            title: '请输入账号',\n            icon: 'none'\n        })\n        return\n    }\n\n    // 验证手机号格式\n    if (!validatePhone(formData.value.username)) {\n        uni.showToast({\n            title: '请输入正确的手机号',\n            icon: 'none'\n        })\n        return\n    }\n\n    if (!formData.value.nickname) {\n        uni.showToast({\n            title: '请输入昵称',\n            icon: 'none'\n        })\n        return\n    }\n\n    if (!formData.value.password) {\n        uni.showToast({\n            title: '请输入密码',\n            icon: 'none'\n        })\n        return\n    }\n\n    // 验证密码长度\n    if (formData.value.password.length < 6) {\n        uni.showToast({\n            title: '密码至少需要6位',\n            icon: 'none'\n        })\n        return\n    }\n\n    if (formData.value.password !== formData.value.confirmPassword) {\n        uni.showToast({\n            title: '两次输入的密码不一致',\n            icon: 'none'\n        })\n        return\n    }\n\n\n    uni.showLoading({\n        title: '注册中...',\n        mask: true\n    })\n\n    console.log('注册参数', formData.value);\n\n    apiPostRegister(formData.value).then(res => {\n        // 这里可以添加实际的注册逻辑\n        if (res.code === 200) {\n            uni.showToast({\n                title: '注册成功',\n                icon: 'success'\n            })\n            uni.navigateBack()\n        }\n        else {\n            uni.showToast({\n                title: res.msg || '注册失败',\n                icon: 'none'\n            })\n\n        }\n\n    }).catch(err => {\n        console.error('注册失败:', err);\n    })\n\n\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    background-color: #fff;\n    min-height: 100vh;\n}\n\n.register-form {\n\n    .inputInfo {\n        padding-top: 65rpx;\n        margin: 0 30rpx;\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 40rpx; // 组之间的间距\n\n        .input-group {\n            width: 100%;\n            display: flex;\n            flex-direction: column;\n\n            .zh {\n\n                text-align: left; // 文本左对齐\n                font-size: 30rpx;\n                font-weight: 500;\n                color: rgba(61, 61, 61, 1);\n                margin-bottom: 15rpx; // 减小view和input之间的间距\n\n                &.mm {\n                    margin-top: 0rpx; // 移除mm类的上边距\n                }\n            }\n\n            .account {\n                height: 80rpx;\n                width: 690rpx;\n                box-sizing: border-box;\n                font-size: 28rpx;\n                margin-bottom: 0rpx;\n                border: none;\n                border-bottom: 2rpx solid #e0e0e0;\n                background-color: transparent;\n\n                &:last-child {\n                    margin-bottom: 0;\n                }\n\n                &.password {\n                    margin-bottom: 0;\n                }\n            }\n        }\n\n    }\n\n    .register-button {\n        padding-top: 30rpx;\n        width: 100%;\n        display: flex;\n        justify-content: center;\n        margin-top: 70rpx; // 增加按钮与表单的间距\n\n        .register-btn {\n            width: 690rpx;\n            height: 80rpx;\n            background: #07c160; // 浅绿色背景\n            border-radius: 40rpx;\n            color: #fff; // 绿色文字\n            font-size: 32rpx;\n            font-weight: 400;\n\n            &::after {\n                border: none; // 去除button默认边框\n            }\n        }\n    }\n}\n</style>","import MiniProgramPage from '/Users/yx/Documents/Vue3Projects/cycl/pages/user/register.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","apiPostRegister"],"mappings":";;;;;;AA2CA,MAAM,aAAa,MAAW;;;;AAG9B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACjB,UAAU;AAAA,MACV,UAAU;AAAA,MACV,UAAU;AAAA,MACV,iBAAiB;AAAA,IACrB,CAAC;AAKD,UAAM,OAAO,MAAM;AACfC,oBAAAA,MAAI,aAAc;AAAA,IACtB;AAGA,UAAM,gBAAgB,CAAC,UAAU;AAC7B,YAAM,aAAa;AACnB,aAAO,WAAW,KAAK,KAAK;AAAA,IAChC;AAGA,UAAM,iBAAiB,MAAM;AACzB,UAAI,CAAC,SAAS,MAAM,UAAU;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAGD,UAAI,CAAC,cAAc,SAAS,MAAM,QAAQ,GAAG;AACzCA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAED,UAAI,CAAC,SAAS,MAAM,UAAU;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAED,UAAI,CAAC,SAAS,MAAM,UAAU;AAC1BA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAGD,UAAI,SAAS,MAAM,SAAS,SAAS,GAAG;AACpCA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAED,UAAI,SAAS,MAAM,aAAa,SAAS,MAAM,iBAAiB;AAC5DA,sBAAAA,MAAI,UAAU;AAAA,UACV,OAAO;AAAA,UACP,MAAM;AAAA,QAClB,CAAS;AACD;AAAA,MACH;AAGDA,oBAAAA,MAAI,YAAY;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACd,CAAK;AAEDA,oBAAY,MAAA,MAAA,OAAA,kCAAA,QAAQ,SAAS,KAAK;AAElCC,eAAAA,gBAAgB,SAAS,KAAK,EAAE,KAAK,SAAO;AAExC,YAAI,IAAI,SAAS,KAAK;AAClBD,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACtB,CAAa;AACDA,wBAAAA,MAAI,aAAc;AAAA,QACrB,OACI;AACDA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO,IAAI,OAAO;AAAA,YAClB,MAAM;AAAA,UACtB,CAAa;AAAA,QAEJ;AAAA,MAET,CAAK,EAAE,MAAM,SAAO;AACZA,6EAAc,SAAS,GAAG;AAAA,MAClC,CAAK;AAAA,IAIL;;;;;;;;;;;;;;;;;;;;;ACpJA,GAAG,WAAW,eAAe;"}