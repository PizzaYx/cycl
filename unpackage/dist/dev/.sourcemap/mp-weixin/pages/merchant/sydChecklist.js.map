{"version":3,"file":"sydChecklist.js","sources":["pages/merchant/sydChecklist.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVyY2hhbnQvc3lkQ2hlY2tsaXN0LnZ1ZQ"],"sourcesContent":["<!-- 收运清单 -->\r\n<template>\r\n    <view class=\"container\">\r\n        <!-- 不再固定在顶部的tab -->\r\n        <view class=\"tab-bar\">\r\n            <view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\" :class=\"{ active: currentTab === index }\"\r\n                @click=\"handleTabClick(index)\">\r\n                {{ tab }}\r\n                <!-- 为预约中tab添加uni-badge -->\r\n                <uni-badge v-if=\"tab === '预约中'\" class=\"uni-badge\" type=\"error\" :text=\"bookingBadgeText\" :dot=\"false\"\r\n                    :absolute=\"'rightTop'\" :offset=\"[-5, -12]\"></uni-badge>\r\n                <!-- 为进行中tab添加uni-badge -->\r\n                <uni-badge v-if=\"tab === '进行中'\" class=\"uni-badge\" type=\"error\" :text=\"processingBadgeText\" :dot=\"true\"\r\n                    :absolute=\"'rightTop'\" :offset=\"[-5, -12]\"></uni-badge>\r\n                <view class=\"tab-line\" v-if=\"currentTab === index\"></view>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- 内容区域 -->\r\n        <view class=\"content-wrapper\">\r\n            <scroll-view class=\"content\" scroll-y>\r\n                <view class=\"order-list\">\r\n                    <view class=\"order-item\" v-for=\"(item, index) in orderList\" :key=\"index\">\r\n                        <view class=\"order-header\">\r\n                            <view class=\"shop-info\">\r\n                                <text class=\"shop-name\">{{ item.shopName }}</text>\r\n                                <text\r\n                                    :class=\"['status-tag', item.status === '预约中' ? 'booking' : (item.status === '进行中' ? 'processing' : 'completed')]\">\r\n                                    {{ item.status }}\r\n                                </text>\r\n                            </view>\r\n\r\n                        </view>\r\n                        <view class=\"order-content\">\r\n                            <view class=\"info-item\">\r\n                                <text class=\"label\">今日收运：</text>\r\n                                <text class=\"value\">{{ item.deliveryCount }}桶</text>\r\n                            </view>\r\n\r\n                            <view class=\"info-item\">\r\n                                <text class=\"label\">收运重量：</text>\r\n                                <text class=\"value\">{{ item.weight }}</text>\r\n                            </view>\r\n                            <view class=\"info-item\">\r\n                                <text class=\"label\">车辆信息：</text>\r\n                                <text class=\"value\">{{ item.carInfo }}</text>\r\n                            </view>\r\n                            <view class=\"info-item\">\r\n                                <text class=\"label\">收运时间：</text>\r\n                                <text class=\"value\">{{ item.time }}</text>\r\n                            </view>\r\n                        </view>\r\n                        <view class=\"order-footer\">\r\n                            <uni-button size=\"mini\" class=\"btn-cancel\" v-if=\"item.status !== '已完成'\">取消</uni-button>\r\n                            <uni-button size=\"mini\" :type=\"item.status === '预约中' ? 'primary' : 'default'\"\r\n                                class=\"btn-confirm\">\r\n                                {{ item.status === '预约中' ? '确认收运' : (item.status === '进行中' ? '完成收运' : '查看详情') }}\r\n                            </uni-button>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n\r\n                <view class=\"loadMore\">\r\n                    <uni-load-more :status=\"loadingStatus\" :content-text=\"{\r\n                        contentdown: '上拉显示更多',\r\n                        contentrefresh: '正在加载...',\r\n                        contentnomore: '没有更多数据了'\r\n                    }\"></uni-load-more>\r\n                </view>\r\n            </scroll-view>\r\n        </view>\r\n    </view>\r\n</template>\r\n<script setup>\r\nimport {\r\n    ref,\r\n    computed\r\n} from 'vue';\r\nimport {\r\n    onPullDownRefresh,\r\n    onReachBottom\r\n} from '@dcloudio/uni-app';\r\n\r\nconst tabs = ['预约中', '进行中', '已完成'];\r\nconst currentTab = ref(0);\r\n// 添加badgeText的ref变量\r\nconst bookingBadgeText = ref('11');\r\nconst processingBadgeText = ref('123');\r\n\r\n// 数据列表\r\nconst allOrderList = ref([\r\n    // 预约中数据\r\n    {\r\n        id: 1,\r\n        shopName: '川味小厨(总店)',\r\n        status: '预约中',\r\n        deliveryCount: '5',\r\n        weight: '451kg',\r\n        carInfo: '川A3D47M',\r\n        time: '2025-08-20 14:30-15:30'\r\n    },\r\n    {\r\n        id: 2,\r\n        shopName: '老北京烤鸭店',\r\n        status: '预约中',\r\n        deliveryCount: '3',\r\n        weight: '210kg',\r\n        carInfo: '川B5H29N',\r\n        time: '2025-08-21 10:00-11:00'\r\n    },\r\n    {\r\n        id: 3,\r\n        shopName: '兰州拉面',\r\n        status: '预约中',\r\n        deliveryCount: '4',\r\n        weight: '320kg',\r\n        carInfo: '川C1D2E3',\r\n        time: '2025-08-21 14:00-15:00'\r\n    },\r\n    {\r\n        id: 4,\r\n        shopName: '黄焖鸡米饭',\r\n        status: '预约中',\r\n        deliveryCount: '2',\r\n        weight: '180kg',\r\n        carInfo: '川D4F5G6',\r\n        time: '2025-08-21 16:00-17:00'\r\n    },\r\n    // 进行中数据\r\n    {\r\n        id: 5,\r\n        shopName: '湘菜馆',\r\n        status: '进行中',\r\n        deliveryCount: '7',\r\n        weight: '625kg',\r\n        carInfo: '川C8K45P',\r\n        time: '2025-08-20 09:15-10:15'\r\n    },\r\n    {\r\n        id: 6,\r\n        shopName: '粤式茶餐厅',\r\n        status: '进行中',\r\n        deliveryCount: '4',\r\n        weight: '312kg',\r\n        carInfo: '川D1M67Q',\r\n        time: '2025-08-20 13:45-14:45'\r\n    },\r\n    {\r\n        id: 7,\r\n        shopName: '日式料理',\r\n        status: '进行中',\r\n        deliveryCount: '6',\r\n        weight: '480kg',\r\n        carInfo: '川E2N3O4',\r\n        time: '2025-08-21 11:30-12:30'\r\n    },\r\n    // 已完成数据\r\n    {\r\n        id: 8,\r\n        shopName: '东北饺子王',\r\n        status: '已完成',\r\n        deliveryCount: '6',\r\n        weight: '523kg',\r\n        carInfo: '川E3R89S',\r\n        time: '2025-08-19 16:30-17:30'\r\n    },\r\n    {\r\n        id: 9,\r\n        shopName: '重庆小面',\r\n        status: '已完成',\r\n        deliveryCount: '2',\r\n        weight: '156kg',\r\n        carInfo: '川F6T23U',\r\n        time: '2025-08-19 11:20-12:20'\r\n    },\r\n    {\r\n        id: 10,\r\n        shopName: '新疆羊肉串',\r\n        status: '已完成',\r\n        deliveryCount: '8',\r\n        weight: '742kg',\r\n        carInfo: '川G9Y56V',\r\n        time: '2025-08-18 15:40-16:40'\r\n    },\r\n    {\r\n        id: 11,\r\n        shopName: '韩式烤肉',\r\n        status: '已完成',\r\n        deliveryCount: '5',\r\n        weight: '420kg',\r\n        carInfo: '川H7U8I9',\r\n        time: '2025-08-18 12:00-13:00'\r\n    },\r\n    {\r\n        id: 12,\r\n        shopName: '意大利餐厅',\r\n        status: '已完成',\r\n        deliveryCount: '3',\r\n        weight: '280kg',\r\n        carInfo: '川J1K2L3',\r\n        time: '2025-08-17 18:30-19:30'\r\n    }\r\n]);\r\n\r\n// 根据当前tab过滤数据\r\nconst orderList = computed(() => {\r\n    if (currentTab.value === 0) { // 预约中\r\n        return allOrderList.value.filter(item => item.status === '预约中');\r\n    } else if (currentTab.value === 1) { // 进行中\r\n        return allOrderList.value.filter(item => item.status === '进行中');\r\n    } else { // 已完成\r\n        return allOrderList.value.filter(item => item.status === '已完成');\r\n    }\r\n});\r\n\r\nconst handleTabClick = (index) => {\r\n    currentTab.value = index;\r\n};\r\n\r\n// 上拉加载更多相关\r\nconst loadingStatus = ref('more'); // more-加载前/loading-加载中/nomore-没有更多数据\r\n\r\n// 上拉加载更多方法\r\nconst onLoadMore = () => {\r\n    if (loadingStatus.value === 'nomore') return;\r\n\r\n    loadingStatus.value = 'loading';\r\n    // 模拟加载更多数据\r\n    setTimeout(() => {\r\n        // 这里可以请求更多数据并添加到列表中\r\n        loadingStatus.value = 'more';\r\n        // 如果没有更多数据了，设置为 'nomore'\r\n        // loadingStatus.value = 'nomore';\r\n    }, 1500);\r\n};\r\n\r\n\r\n// 触底加载更多\r\nonReachBottom(() => {\r\n    onLoadMore();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.container {\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: $bg-theme-color;\r\n\r\n    .tab-bar {\r\n        display: flex;\r\n        align-items: center;\r\n        height: 88rpx;\r\n        background-color: rgba(255, 255, 255, 1);\r\n        padding: 0 30rpx;\r\n        position: relative;\r\n        margin-top: 2rpx; // 距离导航栏2rpx\r\n\r\n        .tab-item {\r\n            flex: 1;\r\n            height: 100%;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-size: 28rpx;\r\n            color: rgba(61, 61, 61, 1);\r\n            position: relative;\r\n\r\n            &.active {\r\n                color: rgba(7, 193, 96, 1);\r\n                font-weight: 500;\r\n            }\r\n\r\n            .tab-line {\r\n                position: absolute;\r\n                bottom: 0;\r\n                left: 50%;\r\n                transform: translateX(-50%);\r\n                width: 56rpx;\r\n                height: 4rpx;\r\n                background-color: rgba(7, 193, 96, 1);\r\n                border-radius: 2rpx;\r\n            }\r\n        }\r\n    }\r\n\r\n    .content-wrapper {\r\n        flex: 1;\r\n         margin-top: 30rpx; // 为固定tab留出空间\r\n\r\n        .content {\r\n            height: 100%;\r\n        }\r\n\r\n        .order-list {\r\n            padding: 0 30rpx; // 左右30rpx\r\n\r\n            .order-item {\r\n                margin-bottom: 20rpx;\r\n                padding: 30rpx;\r\n                background-color: #ffffff;\r\n                border-radius: 12rpx;\r\n\r\n                .order-header {\r\n                    margin-bottom: 20rpx;\r\n\r\n                    .shop-info {\r\n                        display: flex;\r\n                        align-items: center;\r\n                        justify-content: space-between;\r\n                        margin-bottom: 16rpx;\r\n\r\n                        .shop-name {\r\n                            font-size: 28rpx;\r\n                            font-weight: 400;\r\n                            color: rgba(61, 61, 61, 1);\r\n                        }\r\n\r\n                        .status-tag {\r\n                            border-radius: 8rpx;\r\n                            font-size: 24rpx;\r\n                            width: 100rpx;\r\n                            height: 40rpx;\r\n                            display: flex;\r\n                            justify-content: center;\r\n                            align-items: center;\r\n\r\n                            &.booking {\r\n                                color: rgba(255, 161, 0, 1);\r\n                                background-color: rgba(255, 161, 0, 0.10);\r\n                            }\r\n\r\n                            &.processing {\r\n                                color: rgba(7, 193, 96, 1);\r\n                                background-color: rgba(7, 193, 96, 0.10);\r\n                            }\r\n\r\n                            &.completed {\r\n                                color: rgba(61, 61, 61, 0.50);\r\n                                background-color: rgba(61, 61, 61, 0.10);\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                .order-content {\r\n                    padding: 20rpx 0;\r\n                    border-top: 1px solid #f0f0f0;\r\n                    border-bottom: 1px solid #f0f0f0;\r\n\r\n                    .info-item {\r\n                        display: flex;\r\n                        margin-bottom: 16rpx;\r\n\r\n                        &:last-child {\r\n                            margin-bottom: 0;\r\n                        }\r\n\r\n                        .label {\r\n                            font-size: 26rpx;\r\n                            color: rgba(61, 61, 61, 0.50);\r\n                        }\r\n\r\n                        .value {\r\n                            font-size: 26rpx;\r\n                            color: rgba(61, 61, 61, 1);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                .order-footer {\r\n                    display: flex;\r\n                    justify-content: flex-end;\r\n                    margin-top: 20rpx;\r\n\r\n                    .btn-cancel {\r\n                        margin-right: 20rpx;\r\n                        color: rgba(61, 61, 61, 1);\r\n                        background-color: #fff;\r\n                        border: 1px solid rgba(196, 196, 196, 1);\r\n                        font-size: 26rpx;\r\n                        width: 144rpx;\r\n                        height: 48rpx;\r\n                        border-radius: 20rpx;\r\n                        display: flex;\r\n                        justify-content: center;\r\n                        align-items: center;\r\n                        box-sizing: border-box; // 使用border-box盒模型\r\n\r\n                    }\r\n\r\n                    .btn-confirm {\r\n                        color: rgba(255, 255, 255, 1);\r\n                        background-color: rgba(7, 193, 96, 1);\r\n                        font-size: 26rpx;\r\n                        width: 144rpx;\r\n                        height: 48rpx;\r\n                        border-radius: 20rpx;\r\n                        display: flex;\r\n                        justify-content: center;\r\n                        align-items: center;\r\n                        box-sizing: border-box; // 使用border-box盒模型\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .loadMore {\r\n        padding-bottom: calc(env(safe-area-inset-bottom) + 50);\r\n    }\r\n}\r\n</style>","import MiniProgramPage from 'E:/Vue3Project/cycl/pages/merchant/sydChecklist.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onReachBottom"],"mappings":"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"}