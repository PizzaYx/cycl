{"version":3,"file":"sydReservation.js","sources":["pages/merchant/sydReservation.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVyY2hhbnQvc3lkUmVzZXJ2YXRpb24udnVl"],"sourcesContent":["<!-- 临时预约界面 -->\r\n<template>\r\n    <view class=\"auth-container\">\r\n        <uni-nav-bar dark :fixed=\"true\" background-color=\"#fff\" status-bar left-icon=\"left\" color=\"#000\" title=\"临时预约\"\r\n            @clickLeft=\"back\" />\r\n        <!-- 步骤条 -->\r\n        <view class=\"step-container\">\r\n            <view class=\"step-item\" :class=\"{ active: currentStep >= 1, completed: currentStep > 1 }\">\r\n                <view class=\"step-circle\">\r\n                    <text class=\"step-number\" v-if=\"currentStep <= 1\">1</text>\r\n                    <text class=\"step-check\" v-else>✓</text>\r\n                </view>\r\n                <text class=\"step-label\">申请预约</text>\r\n            </view>\r\n            <view class=\"step-line\" :class=\"{ active: currentStep > 1 }\"></view>\r\n            <view class=\"step-item\" :class=\"{ active: currentStep >= 2, completed: currentStep > 2 }\">\r\n                <view class=\"step-circle\">\r\n                    <text class=\"step-number\" v-if=\"currentStep <= 2\">2</text>\r\n                    <text class=\"step-check\" v-else>✓</text>\r\n                </view>\r\n                <text class=\"step-label\">待审核</text>\r\n            </view>\r\n            <view class=\"step-line\" :class=\"{ active: currentStep > 2 }\"></view>\r\n            <view class=\"step-item\" :class=\"{ active: currentStep >= 3 }\">\r\n                <view class=\"step-circle\">\r\n                    <text class=\"step-number\">3</text>\r\n                </view>\r\n                <text class=\"step-label\">预约成功</text>\r\n            </view>\r\n        </view>\r\n\r\n        <!-- 认证表单 -->\r\n        <view class=\"auth-form\">\r\n            <view class=\"form-section\" :class=\"{ readonly: isReadOnly }\">\r\n                <view class=\"status-tip\" v-if=\"isReadOnly\">\r\n                    <view class=\"tip-content\" v-if=\"authStatus === 'pending'\">\r\n                        <uni-icons type=\"info\" size=\"16\" color=\"#ff9500\"></uni-icons>\r\n                        <text class=\"tip-text\">您的预约申请正在审核中，请耐心等待</text>\r\n                    </view>\r\n                    <view class=\"tip-content approved\" v-else-if=\"authStatus === 'approved'\">\r\n                        <uni-icons type=\"checkmarkempty\" size=\"16\" color=\"#07c160\"></uni-icons>\r\n                        <text class=\"tip-text\">恭喜！您的临时预约已通过</text>\r\n                    </view>\r\n                </view>\r\n\r\n                <!-- 审核不通过提示 -->\r\n                <view class=\"status-tip\" v-if=\"authStatus === 'rejected'\">\r\n                    <view class=\"tip-content rejected\">\r\n                        <uni-icons type=\"closeempty\" size=\"16\" color=\"#ff4444\"></uni-icons>\r\n                        <text class=\"tip-text\">很抱歉，您的预约申请未通过审核，请重新提交</text>\r\n                    </view>\r\n                </view>\r\n                <text class=\"section-title\">基本信息</text>\r\n\r\n                <!-- 使用uni-forms表单组件 -->\r\n                <uni-forms ref=\"formRef\" :modelValue=\"formData\" :rules=\"formRules\" label-position=\"top\">\r\n                    <uni-forms-item label=\"商户名称\" name=\"merchantName\" required>\r\n                        <uni-easyinput v-model=\"formData.merchantName\" placeholder=\"请输入商户名称\" :clearable=\"false\"\r\n                            :disabled=\"true\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"商户地址\" name=\"address\" required>\r\n                        <uni-easyinput v-model=\"formData.address\" placeholder=\"请输入详细地址\" :clearable=\"false\"\r\n                            :disabled=\"true\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"联系电话\" name=\"contactPhone\" required>\r\n                        <uni-easyinput v-model=\"formData.contactPhone\" placeholder=\"请输入联系电话\" type=\"number\"\r\n                            maxlength=\"11\" :clearable=\"false\" :disabled=\"true\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"需要垃圾桶数(个)\" name=\"bucketCount\" required>\r\n                        <uni-easyinput v-model=\"formData.bucketCount\" placeholder=\"请输入垃圾桶数量\" type=\"number\"\r\n                            :clearable=\"false\" :disabled=\"isReadOnly\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"预估垃圾重量\" name=\"estimatedWeight\" required>\r\n                        <uni-easyinput v-model=\"formData.estimatedWeight\" placeholder=\"请输入预估垃圾重量\" type=\"number\"\r\n                            :clearable=\"false\" :disabled=\"isReadOnly\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"预约时间\" name=\"estimatedTime\" required>\r\n                        <uni-datetime-picker v-model=\"formData.estimatedTime\" type=\"datetime\" \r\n                            :start=\"minDate\" :end=\"maxDate\" \r\n                            placeholder=\"请选择预约时间\" :clearable=\"false\" :disabled=\"isReadOnly\">\r\n                        </uni-datetime-picker>\r\n                    </uni-forms-item>\r\n\r\n                    <uni-forms-item label=\"备注说明\" name=\"estimatedRemarks\" required>\r\n                        <uni-easyinput v-model=\"formData.estimatedRemarks\" placeholder=\"请输入其他要说明的信息\" type=\"text\"\r\n                            :clearable=\"false\" :disabled=\"isReadOnly\">\r\n                        </uni-easyinput>\r\n                    </uni-forms-item>\r\n\r\n                </uni-forms>\r\n            </view>\r\n\r\n            <!-- 提交按钮 -->\r\n            <view class=\"submit-section\" v-if=\"authStatus === 'none' || authStatus === 'rejected'\">\r\n                <button class=\"submit-btn\" @click=\"submitAuth\" :loading=\"submitting\">\r\n                    {{ authStatus === 'rejected' ? '重新提交' : '提交' }}\r\n                </button>\r\n            </view>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, onMounted } from 'vue'\r\nimport { apiPostaddPlanTemporary } from '@/api/apis.js'\r\nimport { onLoad } from '@dcloudio/uni-app'\r\nimport { useUserStore } from '@/stores/user.js'\r\nconst userStore = useUserStore();\r\n//返回上一页\r\nconst back = () => {\r\n    uni.navigateBack()\r\n}\r\n\r\n// 接收页面参数\r\nconst props = ref({\r\n    id: null,\r\n    status: null\r\n})\r\n\r\nonLoad((options) => {\r\n    // 接收参数并设置默认值\r\n    props.value.id = options.id ? parseInt(options.id) : null;\r\n    props.value.status = options.status ? parseInt(options.status) : null; // 默认为null\r\n\r\n    console.log('接收到的参数:', props.value);\r\n\r\n    // // 可以根据接收到的参数进行相应处理\r\n    // if (props.value.id) {\r\n    //     // 根据id获取相关数据\r\n    // }\r\n});\r\n\r\n\r\n// 是否为只读状态\r\nconst isReadOnly = computed(() => {\r\n    return authStatus.value === 'pending' || authStatus.value === 'approved'\r\n})\r\n\r\n\r\n// 表单数据\r\nconst formData = reactive({\r\n    merchantName: '上海源达环保科技有限公司',\r\n    address: '上海市浦东新区川沙新镇川周公路1555号',\r\n    contactPerson: '张三',\r\n    contactPhone: '1234567890',\r\n    bucketCount: '',\r\n    estimatedWeight: '',\r\n    estimatedTime: '',\r\n    estimatedRemarks: '',\r\n})\r\n\r\n// 计算最小和最大可选日期\r\nconst minDate = computed(() => {\r\n    const now = new Date()\r\n    return now.toISOString().slice(0, 19).replace('T', ' ')\r\n})\r\n\r\nconst maxDate = computed(() => {\r\n    const now = new Date()\r\n    const max = new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000) // 30天后\r\n    return max.toISOString().slice(0, 19).replace('T', ' ')\r\n})\r\n\r\n// //0:未审核/待审核 1:审核成功 2: 审核不通过\r\nconst currentStep = computed(() => {\r\n    const status = props.value.status\r\n    switch (status) {\r\n        case 0: // 待审核\r\n            return 2\r\n        case 1: // 认证成功\r\n            return 3\r\n        case 2: // 审核不通过\r\n            return 1\r\n        default: // 未提交\r\n            return 1\r\n    }\r\n})\r\n\r\n// 认证状态 - 根据后端状态码正确映射\r\nconst authStatus = computed(() => {\r\n    const status = props.value.status\r\n    switch (status) {\r\n        case 0: // 未审核/待审核 -> 认证中\r\n            return 'pending'\r\n        case 1: // 认证成功 -> 已认证\r\n            return 'approved'\r\n        case 2: // 审核不通过 -> 未认证\r\n            return 'rejected'\r\n        default: // 未提交认证 -> 未认证\r\n            return 'none'\r\n    }\r\n})\r\n\r\n// 表单引用\r\nconst formRef = ref()\r\n\r\n// 表单验证规则\r\nconst formRules = {\r\n    \r\n    bucketCount: {\r\n        rules: [\r\n            { required: true, errorMessage: '请输入垃圾桶数量' },\r\n            {\r\n                validateFunction: function (rule, value, data, callback) {\r\n                    if (value && (isNaN(value) || parseInt(value) <= 0)) {\r\n                        callback('垃圾桶数量必须大于0')\r\n                    }\r\n                    return true\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    estimatedWeight: {\r\n        rules: [\r\n            { required: true, errorMessage: '请输入预估垃圾重量' },\r\n            {\r\n                validateFunction: function (rule, value, data, callback) {\r\n                    if (value && (isNaN(value) || parseFloat(value) <= 0)) {\r\n                        callback('预估垃圾重量必须大于0')\r\n                    }\r\n                    return true\r\n                }\r\n            }\r\n        ]\r\n    },\r\n    estimatedTime: {\r\n        rules: [\r\n            { required: true, errorMessage: '请选择预约时间' }\r\n        ]\r\n    },\r\n    estimatedRemarks: {\r\n        rules: [\r\n            { required: true, errorMessage: '请输入备注说明' }\r\n        ]\r\n    }\r\n}\r\n\r\n// 提交状态\r\nconst submitting = ref(false)\r\n\r\n// 页面加载完成\r\nonMounted(() => {\r\n    fillFormData(result.data);\r\n})\r\n\r\n\r\n// 数据回显函数\r\nconst fillFormData = (data) => {\r\n    if (!data) return\r\n\r\n    console.log('开始数据回显:', data)\r\n\r\n    // 基本信息回显\r\n    formData.merchantName = userStore.merchant?.name || ''\r\n    formData.address = userStore.merchant?.address || ''\r\n    formData.contactPerson =  userStore.merchant?.contactTruename || ''\r\n    formData.contactPhone = data.contactTel || userStore.merchant?.contactTel || ''\r\n\r\n    formData.bucketCount = data.bucketNum?.toString() || ''\r\n    formData.estimatedWeight = data.trashWeight?.toString() || ''\r\n    formData.estimatedTime = data.estimatedTime || ''\r\n    formData.estimatedRemarks = data.estimatedRemarks || ''\r\n\r\n    console.log('数据回显完成:', formData)\r\n}\r\n\r\n\r\n// 表单验证（使用uni-forms的验证方式）\r\nconst validateForm = async () => {\r\n    try {\r\n        return  await formRef.value.validate()\r\n    } catch (error) {\r\n        console.log('表单验证失败:', error)\r\n        return false\r\n    }\r\n}\r\n\r\n// 提交预约\r\nconst submitAuth = async () => {\r\n    // 先进行表单验证\r\n    const isValid = await validateForm()\r\n    if (!isValid) {\r\n        return\r\n    }\r\n\r\n    submitting.value = true\r\n\r\n    try {\r\n        \r\n\r\n        // 准备提交数据 - 只包含API需要的字段\r\n        const submitData = {\r\n            userid: userStore.merchant?.id || 0, // 商户ID\r\n            name: formData.merchantName,              // 商户名称\r\n            address: formData.address,                // 地址\r\n            contactTruename: formData.contactPerson,  // 联系人姓名\r\n            contactTel: formData.contactPhone,        // 联系电话\r\n            bucketNum: parseInt(formData.bucketCount), // 预计桶数量\r\n            trashWeight: parseFloat(formData.estimatedWeight), // 预估垃圾重量\r\n            appointmentTime: formData.appointmentTime,      // 预约时间   \r\n        }\r\n\r\n        console.log('提交认证数据:', submitData)\r\n\r\n        // 调用认证提交API\r\n        const result = await apiPostMerchantCheck(submitData)\r\n        console.log('认证提交API返回:', result)\r\n\r\n        uni.showToast({\r\n            title: '认证申请提交成功',\r\n            icon: 'success'\r\n        })\r\n\r\n        // 更新认证状态 - 提交成功后状态为待审核(0)\r\n        merchantData.value = {\r\n            ...submitData,\r\n            status: 0, // 待审核状态\r\n            updateTime: new Date().toLocaleString()\r\n        }\r\n\r\n        // 同时更新用户store中的merchant数据\r\n        if (userStore.userInfo) {\r\n            userStore.updateUserInfo({\r\n                merchant: merchantData.value\r\n            })\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('提交认证失败:', error)\r\n        uni.showToast({\r\n            title: '提交失败，请重试',\r\n            icon: 'none'\r\n        })\r\n    } finally {\r\n        submitting.value = false\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.auth-container {\r\n    min-height: 100vh;\r\n    background: $bg-theme-color;\r\n    padding: 0 30rpx 30rpx;\r\n\r\n\r\n    // 步骤条样式\r\n    .step-container {\r\n        background: #ffffff;\r\n        padding: 40rpx 30rpx;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        margin: 30rpx 0;\r\n        height: 144rpx;\r\n        border-radius: 20rpx;\r\n\r\n        .step-item {\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            gap: 16rpx;\r\n\r\n            &.active {\r\n                .step-circle {\r\n                    width: 48rpx;\r\n                    height: 48rpx;\r\n                    background: rgba(7, 193, 96, 1);\r\n                    color: #fff;\r\n                }\r\n\r\n                .step-label {\r\n                    color: #07c160;\r\n                    font-weight: 400;\r\n                }\r\n            }\r\n\r\n            &.completed .step-circle {\r\n                background: #07c160;\r\n                color: #fff;\r\n            }\r\n        }\r\n\r\n        .step-circle {\r\n            width: 48rpx;\r\n            height: 48rpx;\r\n            border-radius: 50%;\r\n            background: rgba(217, 217, 217, 1);\r\n            color: #fff;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n            font-size: 24rpx;\r\n            font-weight: 400;\r\n            transition: all 0.3s ease;\r\n        }\r\n\r\n        .step-number,\r\n        .step-check {\r\n            font-size: 24rpx;\r\n            font-weight: 400;\r\n        }\r\n\r\n        .step-label {\r\n            font-size: 24rpx;\r\n            color: rgba(61, 61, 61, 1);\r\n            text-align: center;\r\n        }\r\n\r\n        .step-line {\r\n            flex: 1;\r\n            height: 2rpx;\r\n            background: #e5e5e5;\r\n            margin: 0 20rpx;\r\n            margin-top: -45rpx; // 向上偏移，与圆圈居中对齐\r\n            transition: all 0.3s ease;\r\n\r\n            &.active {\r\n                background: #07c160;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 表单样式\r\n    .auth-form {\r\n        .form-section {\r\n            background: #ffffff;\r\n            border-radius: 16rpx;\r\n            padding: 30rpx;\r\n            margin-bottom: 30rpx;\r\n            box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.05);\r\n\r\n            .status-tip {\r\n                margin-bottom: 20rpx;\r\n\r\n                .tip-content {\r\n                    display: flex;\r\n                    align-items: center;\r\n                    gap: 8rpx;\r\n                    padding: 16rpx 20rpx;\r\n                    background-color: #f8f9fa;\r\n                    border-radius: 8rpx;\r\n                    border-left: 4rpx solid #ff9500;\r\n\r\n                    &.approved {\r\n                        border-left-color: #07c160;\r\n                    }\r\n\r\n                    &.rejected {\r\n                        border-left-color: #ff4444;\r\n                    }\r\n\r\n                    .tip-text {\r\n                        font-size: 26rpx;\r\n                        color: #666666;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .section-title {\r\n                font-size: 32rpx;\r\n                font-weight: bold;\r\n                color: rgba(38, 38, 38, 1);\r\n                margin-bottom: 30rpx;\r\n                display: block;\r\n            }\r\n\r\n            // uni-forms组件样式调整\r\n            :deep(.uni-forms-item) {\r\n                margin-bottom: 40rpx; // 增加表单项之间的间距\r\n\r\n                // 标签样式调整\r\n                .uni-forms-item__label {\r\n                    font-size: 28rpx !important;\r\n                    color: rgba(38, 38, 38, 1) !important;\r\n                    margin-bottom: 0rpx !important; // 标签和输入框的间距\r\n                    white-space: nowrap !important; // 防止标签换行\r\n\r\n                    .uni-forms-item__label-text {\r\n                        white-space: nowrap !important;\r\n                    }\r\n                }\r\n\r\n                // 错误信息样式调整 - 恢复原始位置但优化样式\r\n                .uni-forms-item__error {\r\n                    margin-top: 8rpx !important; // 与输入框的间距\r\n                    margin-bottom: 20rpx !important; // 与下一个表单项的间距\r\n                    font-size: 24rpx !important;\r\n                    color: #ff4444 !important;\r\n                    line-height: 1.4 !important;\r\n                    background: transparent !important;\r\n                }\r\n            }\r\n\r\n            // uni-easyinput样式调整，根据官方文档优化\r\n            // 使用!important是因为uni-app组件有内联样式和深层嵌套样式，需要强制覆盖\r\n            :deep(.uni-easyinput) {\r\n                .uni-easyinput__content {\r\n                    border: none !important;\r\n                    border-radius: 0 !important;\r\n                    border-bottom: 2rpx solid #e5e5e5 !important;\r\n                    background: transparent !important;\r\n                    padding: 0 30rpx 10rpx 30rpx !important; // 左右各30rpx边距\r\n                    height: 60rpx !important;\r\n                    display: flex !important;\r\n                    align-items: center !important;\r\n                    justify-content: flex-start !important;\r\n                    position: relative !important;\r\n\r\n                    &.is-focused {\r\n                        border-bottom-color: #07c160 !important;\r\n                    }\r\n                }\r\n\r\n                .uni-easyinput__content-input {\r\n                    font-size: 28rpx !important;\r\n                    color: rgba(38, 38, 38, 1) !important;\r\n                    height: 40rpx !important; // 设置固定高度\r\n                    line-height: 40rpx !important; // 行高与高度一致实现垂直居中\r\n                    padding: 0 !important;\r\n                    margin: 0 !important;\r\n                    flex: 1 !important;\r\n                    text-align: left !important;\r\n                    transform: translateY(5rpx) !important; // 向下偏移10rpx\r\n                    box-sizing: border-box !important;\r\n                }\r\n\r\n                .uni-easyinput__placeholder-class {\r\n                    color: rgba(191, 191, 191, 1) !important;\r\n                    font-size: 28rpx !important;\r\n                    line-height: 40rpx !important;\r\n                    text-align: left !important;\r\n                    transform: translateY(5rpx) !important; // 占位符也向下偏移10rpx\r\n                }\r\n\r\n                // 清除按钮样式调整\r\n                .uni-easyinput__content-clear-icon {\r\n                    transform: translateY(10rpx) !important; // 清除按钮也向下偏移\r\n                }\r\n            }\r\n\r\n            // uni-data-select样式调整，与uni-easyinput保持一致\r\n            :deep(.uni-data-select) {\r\n                .uni-data-select__input-box {\r\n                    border: none !important;\r\n                    border-radius: 0 !important;\r\n                    border-bottom: 2rpx solid #e5e5e5 !important;\r\n                    background: transparent !important;\r\n                    padding: 0 30rpx 10rpx 30rpx !important; // 左右各30rpx边距\r\n                    height: 60rpx !important;\r\n                    box-shadow: none !important;\r\n                    display: flex !important;\r\n                    align-items: center !important;\r\n                    justify-content: flex-start !important;\r\n                    position: relative !important;\r\n\r\n                    .uni-data-select__input {\r\n                        font-size: 28rpx !important;\r\n                        color: rgba(38, 38, 38, 1) !important;\r\n                        height: 40rpx !important; // 设置固定高度\r\n                        line-height: 40rpx !important; // 行高与高度一致\r\n                        border: none !important;\r\n                        padding: 0 !important;\r\n                        margin: 0 !important;\r\n                        flex: 1 !important;\r\n                        text-align: left !important;\r\n                        transform: translateY(10rpx) !important; // 向下偏移10rpx\r\n                        box-sizing: border-box !important;\r\n                    }\r\n\r\n                    .uni-data-select__input.uni-data-select__input--placeholder {\r\n                        color: rgba(191, 191, 191, 1) !important;\r\n                        line-height: 40rpx !important;\r\n                        text-align: left !important;\r\n                        transform: translateY(10rpx) !important; // 占位符也向下偏移10rpx\r\n                    }\r\n\r\n                    // 下拉箭头也向下偏移\r\n                    .uni-data-select__input-arrow {\r\n                        transform: translateY(10rpx) !important;\r\n                    }\r\n                }\r\n\r\n                // 移除选择器的外层边框\r\n                .uni-data-select__selector {\r\n                    border: none !important;\r\n                    box-shadow: none !important;\r\n                }\r\n\r\n                // 移除可能存在的其他边框\r\n                &>view {\r\n                    border: none !important;\r\n                }\r\n            }\r\n\r\n            // 日期时间选择器样式，与其他输入框保持一致\r\n            :deep(.uni-datetime-picker) {\r\n                .uni-date-editor--x {\r\n                    border: none !important;\r\n                    border-bottom: 2rpx solid #e5e5e5 !important;\r\n                    background: transparent !important;\r\n                    padding: 0 30rpx 10rpx 30rpx !important;\r\n                    height: 60rpx !important;\r\n                    display: flex !important;\r\n                    align-items: center !important;\r\n                    justify-content: flex-start !important;\r\n                    position: relative !important;\r\n                    \r\n                    .uni-date__x-input {\r\n                        font-size: 28rpx !important;\r\n                        color: rgba(38, 38, 38, 1) !important;\r\n                        height: 40rpx !important;\r\n                        line-height: 40rpx !important;\r\n                        padding: 0 !important;\r\n                        margin: 0 !important;\r\n                        flex: 1 !important;\r\n                        text-align: left !important;\r\n                        transform: translateY(5rpx) !important;\r\n                        box-sizing: border-box !important;\r\n                    }\r\n                    \r\n                    .uni-date__x-input-placeholder {\r\n                        color: rgba(191, 191, 191, 1) !important;\r\n                        font-size: 28rpx !important;\r\n                        line-height: 40rpx !important;\r\n                        text-align: left !important;\r\n                        transform: translateY(5rpx) !important;\r\n                    }\r\n                }\r\n                \r\n                &.uni-date-x--border {\r\n                    border: none !important;\r\n                }\r\n                \r\n                .uni-date-single--x,\r\n                .uni-date-range--x {\r\n                    top: 60rpx !important;\r\n                }\r\n            }\r\n\r\n            // 上传提示样式\r\n            .upload-tip {\r\n                font-size: 24rpx;\r\n                color: #999999;\r\n                margin-top: 10rpx;\r\n                line-height: 1.4;\r\n            }\r\n\r\n            // 位置选择器样式，与其他输入框保持一致\r\n            .location-picker {\r\n                .location-input {\r\n                    border: none;\r\n                    border-bottom: 2rpx solid #e5e5e5;\r\n                    padding: 0 30rpx 10rpx 30rpx; // 左右各30rpx边距\r\n                    height: 60rpx;\r\n                    display: flex;\r\n                    align-items: center;\r\n                    justify-content: flex-start;\r\n                    cursor: pointer;\r\n                    position: relative;\r\n\r\n                    .location-info {\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        gap: 2rpx; // 减小间距\r\n                        flex: 1;\r\n                        justify-content: center;\r\n                        align-items: flex-start;\r\n                        transform: translateY(10rpx); // 向下偏移10rpx\r\n\r\n                        .location-name {\r\n                            font-size: 28rpx;\r\n                            color: rgba(38, 38, 38, 1);\r\n                            font-weight: 500;\r\n                            line-height: 1.3;\r\n                            text-align: left;\r\n                        }\r\n\r\n                        .location-coords {\r\n                            font-size: 20rpx; // 稍微减小字体\r\n                            color: #666666;\r\n                            line-height: 1.2;\r\n                            text-align: left;\r\n                        }\r\n                    }\r\n\r\n                    .location-placeholder {\r\n                        color: rgba(191, 191, 191, 1);\r\n                        font-size: 28rpx;\r\n                        flex: 1;\r\n                        line-height: 40rpx; // 与输入框保持一致\r\n                        display: flex;\r\n                        align-items: center;\r\n                        text-align: left;\r\n                        transform: translateY(10rpx); // 向下偏移10rpx\r\n                    }\r\n\r\n                    // 位置图标也向下偏移\r\n                    .uni-icons {\r\n                        transform: translateY(10rpx) !important;\r\n                    }\r\n\r\n                    &:active {\r\n                        background-color: rgba(0, 0, 0, 0.05);\r\n                    }\r\n\r\n                    &.disabled {\r\n                        cursor: not-allowed;\r\n                        opacity: 0.6;\r\n\r\n                        &:active {\r\n                            background-color: transparent;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 只读状态样式\r\n            &.readonly {\r\n                :deep(.uni-easyinput) {\r\n                    .uni-easyinput__content {\r\n                        background-color: #f5f5f5 !important;\r\n\r\n                        .uni-easyinput__content-input {\r\n                            color: #999 !important;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                :deep(.uni-data-select) {\r\n                    .uni-data-select__input-box {\r\n                        background-color: #f5f5f5 !important;\r\n\r\n                        .uni-data-select__input {\r\n                            color: #999 !important;\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                :deep(.uni-datetime-picker) {\r\n                    .uni-date-editor--x {\r\n                        background-color: #f5f5f5 !important;\r\n                        \r\n                        .uni-date__x-input {\r\n                            color: #999 !important;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                :deep(.uni-file-picker) {\r\n                    opacity: 0.6;\r\n                    pointer-events: none;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    // 上传区域样式（保留旧的，以防需要）\r\n    .upload-group {\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 30rpx;\r\n\r\n        .upload-item {\r\n            display: flex;\r\n            flex-direction: column;\r\n            gap: 15rpx;\r\n\r\n            .upload-label {\r\n                font-size: 28rpx;\r\n                color: #333333;\r\n                font-weight: 500;\r\n            }\r\n\r\n            .upload-area {\r\n                width: 100%;\r\n                height: 200rpx;\r\n                background: #f8f8f8;\r\n                border: 2rpx dashed #cccccc;\r\n                border-radius: 12rpx;\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: center;\r\n                overflow: hidden;\r\n\r\n                .upload-placeholder {\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    align-items: center;\r\n                    gap: 10rpx;\r\n\r\n                    .upload-icon {\r\n                        font-size: 48rpx;\r\n                    }\r\n\r\n                    .upload-text {\r\n                        font-size: 24rpx;\r\n                        color: #999999;\r\n                    }\r\n                }\r\n\r\n                .uploaded-image {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // 提交按钮样式\r\n    .submit-section {\r\n        padding: 0 30rpx;\r\n        margin-top: 40rpx;\r\n\r\n        .submit-btn {\r\n            width: 100%;\r\n            height: 80rpx;\r\n            background: linear-gradient(135deg, #07c160 0%, #10ad6a 100%);\r\n            color: #ffffff;\r\n            border-radius: 60rpx;\r\n            font-size: 32rpx;\r\n            font-weight: bold;\r\n            border: none;\r\n\r\n            &:disabled {\r\n                background: #cccccc;\r\n                color: #999999;\r\n            }\r\n\r\n            &:active:not(:disabled) {\r\n                transform: scale(0.98);\r\n            }\r\n        }\r\n    }\r\n\r\n    // 自定义导航栏字体大小为34rpx\r\n    :deep(.uni-navbar__content-title) {\r\n        font-size: 34rpx !important;\r\n    }\r\n\r\n    :deep(.uni-nav-bar-text) {\r\n        font-size: 34rpx !important;\r\n    }\r\n}\r\n</style>","import MiniProgramPage from 'E:/Vue3Project/cycl/pages/merchant/sydReservation.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","uni","ref","onLoad","computed","reactive","onMounted","result"],"mappings":"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"}