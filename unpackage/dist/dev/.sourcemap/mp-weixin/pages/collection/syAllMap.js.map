{"version":3,"file":"syAllMap.js","sources":["pages/collection/syAllMap.vue","pages/collection/syAllMap.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <uni-nav-bar dark :fixed=\"true\" background-color=\"#fff\" status-bar left-icon=\"left\" color=\"#000\" title=\"Êî∂ËøêÂú∞ÂõæËØ¶ÊÉÖ\"\n            @clickLeft=\"back\" />\n\n        <view class=\"map-container\">\n            <map id=\"navigationMap\" class=\"navigation-map\" :scale=\"mapScale\" :markers=\"mapMarkers\"\n                :polyline=\"mapPolyline\" :show-location=\"true\" :enable-zoom=\"true\" :enable-scroll=\"true\"\n                :latitude=\"mapCenter.latitude\" :longitude=\"mapCenter.longitude\"></map>\n\n            <!-- ÂÆö‰ΩçÁä∂ÊÄÅÊèêÁ§∫ -->\n            <view class=\"location-status\" v-if=\"isLocating\">\n                <uni-icons type=\"spinner-cycle\" size=\"20\" color=\"#07C160\"></uni-icons>\n                <text class=\"status-text\">Ê≠£Âú®ÂÆö‰ΩçÂíåËßÑÂàíË∑ØÁ∫ø...</text>\n            </view>\n        </view>\n\n        <view class=\"bottom-section\">\n            <view class=\"driver-info-card\">\n                <view class=\"info-item\">\n                    <view class=\"avatar\">\n                        <view class=\"avatar-text\">{{ userStore.userSFAvatar }}</view>\n                    </view>\n                    <view class=\"name-info\">\n                        <text class=\"label\">Âè∏Êú∫ÂßìÂêçÔºö</text>\n                        <text class=\"value\">{{ driverName }}</text>\n                    </view>\n                    <uni-icons type=\"location\" size=\"16\" color=\"#00B578\"></uni-icons>\n                </view>\n\n                <view class=\"divider\"></view>\n\n                <view class=\"driver-details\">\n                    <view class=\"detail-item\">\n                        <text class=\"label\">ËΩ¶ÁâåÂè∑Ôºö</text>\n                        <text class=\"value\">{{ registrationNumber }}</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">È¢Ñ‰º∞ÊÄªÈáçÈáèÔºö</text>\n                        <text class=\"value\">{{ totalEstimateWeight }}kg</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">ÂûÉÂúæÊ°∂Êï∞Ôºö</text>\n                        <text class=\"value\">{{ bucketNum }}‰∏™</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">Êî∂ËøêÊó•ÊúüÔºö</text>\n                        <text class=\"value\">{{ currentDate }}</text>\n                    </view>\n                </view>\n            </view>\n\n        </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useUserStore } from '@/stores/user.js'\nimport { onLoad } from '@dcloudio/uni-app'; // Ê≠£Á°ÆÂØºÂÖ•onLoadÁîüÂëΩÂë®Êúü\nconst userStore = useUserStore()\n\n// Âú∞ÂõæÁõ∏ÂÖ≥Êï∞ÊçÆ\nconst mapScale = ref(14) // ÊèêÈ´òÁº©ÊîæÁ∫ßÂà´ÔºåÊõ¥Ê∏ÖÊ•öÊòæÁ§∫ÂΩìÂâç‰ΩçÁΩÆ\nconst mapMarkers = ref([])\nconst mapPolyline = ref([])\nconst mapCenter = ref({\n    latitude: 30.6586, // ÊàêÈÉΩÂ∏Ç‰∏≠ÂøÉÂùêÊ†á\n    longitude: 104.0647\n})\n\n// Êé•Êî∂ÁöÑÂèÇÊï∞Êï∞ÊçÆ\nconst taskList = ref([])\nconst driverName = ref('')\nconst registrationNumber = ref('')\nconst bucketNum = ref(0)\nconst currentDate = ref('')\n\n// ÂÆö‰ΩçÁõ∏ÂÖ≥Áä∂ÊÄÅ\nconst isLocating = ref(false)\nconst currentLocation = ref({\n    latitude: 0,\n    longitude: 0,\n    accuracy: 0\n})\n\n// Ê∑ªÂä†‰∏Ä‰∏™Ê†áÂøó‰ΩçÔºåË°®Á§∫Êï∞ÊçÆÊòØÂê¶Â∑≤Êé•Êî∂\nconst isDataReceived = ref(false)\n\n// ËÆ°ÁÆóÊÄªÈ¢Ñ‰º∞ÈáçÈáè\nconst totalEstimateWeight = computed(() => {\n    return taskList.value.reduce((total, task) => {\n        return total + (parseFloat(task.estimateWeight) || 0)\n    }, 0).toFixed(1)\n})\n\n\n// ‰ΩøÁî®UniAppÂÆö‰Ωç\nconst useUniAppLocation = () => {\n    console.log('ÂºÄÂßãÂÆö‰Ωç...')\n    isLocating.value = true\n\n    // ÂÖàÊ£ÄÊü•ÂÆö‰ΩçÊùÉÈôê\n    checkLocationPermission()\n}\n\n// Ê£ÄÊü•ÂÆö‰ΩçÊùÉÈôê\nconst checkLocationPermission = () => {\n    uni.getSetting({\n        success: (res) => {\n            console.log('Ëé∑ÂèñÊùÉÈôêËÆæÁΩÆ:', res.authSetting)\n\n            if (res.authSetting['scope.userLocation'] === false) {\n                // Áî®Êà∑ÊãíÁªùËøáÂÆö‰ΩçÊùÉÈôêÔºåÈúÄË¶ÅÂºïÂØºÁî®Êà∑ÊâãÂä®ÂºÄÂêØ\n                uni.showModal({\n                    title: 'ÂÆö‰ΩçÊùÉÈôê',\n                    content: 'ÈúÄË¶ÅËé∑ÂèñÊÇ®ÁöÑÂú∞ÁêÜ‰ΩçÁΩÆÔºåËØ∑ÂâçÂæÄËÆæÁΩÆÈ°µÈù¢ÂºÄÂêØÂÆö‰ΩçÊùÉÈôê',\n                    showCancel: true,\n                    confirmText: 'ÂéªËÆæÁΩÆ',\n                    success: (modalRes) => {\n                        if (modalRes.confirm) {\n                            uni.openSetting({\n                                success: (settingRes) => {\n                                    if (settingRes.authSetting['scope.userLocation']) {\n                                        // Áî®Êà∑ÂºÄÂêØ‰∫ÜÊùÉÈôêÔºåÈáçÊñ∞ÂÆö‰Ωç\n                                        startUniAppLocation()\n                                    } else {\n                                        isLocating.value = false\n                                    }\n                                }\n                            })\n                        } else {\n                            isLocating.value = false\n                        }\n                    }\n                })\n            } else {\n                // ÊùÉÈôêÊ≠£Â∏∏ÊàñÊú™ËÆæÁΩÆÔºåÁõ¥Êé•ÂÆö‰Ωç\n                startUniAppLocation()\n            }\n        },\n        fail: () => {\n            // Ëé∑ÂèñËÆæÁΩÆÂ§±Ë¥•ÔºåÁõ¥Êé•Â∞ùËØïÂÆö‰Ωç\n            startUniAppLocation()\n        }\n    })\n}\n\n// ÂºÄÂßãUniAppÂÆö‰Ωç\nconst startUniAppLocation = () => {\n    uni.getLocation({\n        type: 'gcj02', // Áõ¥Êé•Ëé∑ÂèñGCJ02ÂùêÊ†áÁ≥ªÁöÑ‰ΩçÁΩÆ\n        altitude: false, // ‰∏çÈúÄË¶ÅÈ´òÂ∫¶‰ø°ÊÅØ\n        success: (res) => {\n            const lat = res.latitude\n            const lng = res.longitude\n\n            console.log('ÂÆö‰ΩçÊàêÂäü(GCJ02):', lat, lng)\n\n            // Êõ¥Êñ∞ÂΩìÂâç‰ΩçÁΩÆ\n            currentLocation.value = {\n                latitude: lat,\n                longitude: lng,\n                accuracy: res.accuracy || 100\n            }\n\n            // Êõ¥Êñ∞Âú∞Âõæ‰∏≠ÂøÉÁÇπ\n            mapCenter.value.latitude = lat\n            mapCenter.value.longitude = lng\n\n            console.log('Âú∞Âõæ‰∏≠ÂøÉÁÇπÂ∑≤Êõ¥Êñ∞‰∏∫:', lat, lng)\n\n            // Áõ¥Êé•ÊâßË°åÔºå‰∏ç‰ΩøÁî®nextTick\n            setTimeout(() => {\n                // Ê∑ªÂä†ÂΩìÂâç‰ΩçÁΩÆÊ†áËÆ∞\n                addCurrentLocationMarker(lat, lng)\n\n                // Ê∑ªÂä†‰ªªÂä°Âú∞ÁÇπÊ†áËÆ∞\n                addTaskMarkers()\n\n                // ÁªòÂà∂Ë∑ØÁ∫øÂíåËßÑÂàíË∑ØÂæÑ\n                planRoute()\n\n                isLocating.value = false\n\n                uni.showToast({\n                    title: 'ÂÆö‰ΩçÊàêÂäüÔºåË∑ØÁ∫øËßÑÂàíÂÆåÊàê',\n                    icon: 'success'\n                })\n            }, 100)\n        },\n        fail: (error) => {\n            console.error('ÂÆö‰ΩçÂ§±Ë¥•:', error)\n            isLocating.value = false\n\n            // Ê†πÊçÆÈîôËØØÁ±ªÂûãÁªôÂá∫‰∏çÂêåÊèêÁ§∫\n            let errorMsg = 'ÂÆö‰ΩçÂ§±Ë¥•'\n            if (error.errMsg) {\n                if (error.errMsg.includes('auth deny')) {\n                    errorMsg = 'ÂÆö‰ΩçÊùÉÈôêË¢´ÊãíÁªùÔºåËØ∑ÂºÄÂêØÂÆö‰ΩçÊùÉÈôê'\n                } else if (error.errMsg.includes('location fail')) {\n                    errorMsg = 'ÂÆö‰ΩçÊúçÂä°‰∏çÂèØÁî®ÔºåËØ∑Ê£ÄÊü•ÊâãÊú∫ÂÆö‰ΩçËÆæÁΩÆ'\n                } else {\n                    errorMsg = 'ÂÆö‰ΩçÂ§±Ë¥•Ôºö' + error.errMsg\n                }\n            }\n\n            uni.showModal({\n                title: 'ÂÆö‰ΩçÂ§±Ë¥•',\n                content: errorMsg,\n                showCancel: true,\n                confirmText: 'ÈáçËØï',\n                cancelText: 'ÂèñÊ∂à',\n                success: (modalRes) => {\n                    if (modalRes.confirm) {\n                        // Áî®Êà∑ÈÄâÊã©ÈáçËØï\n                        setTimeout(() => {\n                            useUniAppLocation()\n                        }, 1000)\n                    } else {\n                        // ‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆÔºàÊàêÈÉΩÂ∏Ç‰∏≠ÂøÉÔºâ\n                        useDefaultLocation()\n                    }\n                }\n            })\n        }\n    })\n}\n\n// ‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆ\nconst useDefaultLocation = () => {\n    console.log('‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆÔºàÊàêÈÉΩÂ∏Ç‰∏≠ÂøÉÔºâ')\n    const defaultLat = 30.6586\n    const defaultLng = 104.0647\n\n    currentLocation.value = {\n        latitude: defaultLat,\n        longitude: defaultLng,\n        accuracy: 1000\n    }\n\n    mapCenter.value.latitude = defaultLat\n    mapCenter.value.longitude = defaultLng\n\n    console.log('Âú∞Âõæ‰∏≠ÂøÉÁÇπÂ∑≤Êõ¥Êñ∞‰∏∫ÈªòËÆ§‰ΩçÁΩÆ:', defaultLat, defaultLng)\n\n    // Áõ¥Êé•ÊâßË°åÔºå‰∏ç‰ΩøÁî®nextTick\n    setTimeout(() => {\n        // Ê∑ªÂä†ÈªòËÆ§‰ΩçÁΩÆÊ†áËÆ∞\n        addCurrentLocationMarker(defaultLat, defaultLng)\n\n        // Ê∑ªÂä†‰ªªÂä°Âú∞ÁÇπÊ†áËÆ∞\n        addTaskMarkers()\n\n        // ÁªòÂà∂Ë∑ØÁ∫øÂíåËßÑÂàíË∑ØÂæÑ\n        planRoute()\n\n        uni.showToast({\n            title: '‰ΩøÁî®ÈªòËÆ§‰ΩçÁΩÆÔºåË∑ØÁ∫øËßÑÂàíÂÆåÊàê',\n            icon: 'none'\n        })\n    }, 100)\n}\n\n// Ê∑ªÂä†ÂΩìÂâç‰ΩçÁΩÆÊ†áËÆ∞\nconst addCurrentLocationMarker = (lat, lng) => {\n    const marker = {\n        id: 0, // ‰ΩøÁî®Êï∞Â≠óID\n        latitude: lat,\n        longitude: lng,\n        title: 'ÂΩìÂâç‰ΩçÁΩÆ',\n        iconPath: '/static/ssd/positioning.png',\n        width: 30,\n        height: 30,\n        callout: {\n            content: 'ÂΩìÂâç‰ΩçÁΩÆ',\n            color: '#000000',\n            fontSize: 12,\n            borderRadius: 5,\n            bgColor: '#ffffff',\n            padding: 5,\n            display: 'ALWAYS'\n        }\n    }\n\n    mapMarkers.value = [marker] // ÂÖàÊ∏ÖÁ©∫ÂÜçÊ∑ªÂä†\n}\n\n// Ê∑ªÂä†‰ªªÂä°Âú∞ÁÇπÊ†áËÆ∞\nconst addTaskMarkers = () => {\n    taskList.value.forEach((task, index) => {\n        // ËøôÈáåÈúÄË¶ÅÊ†πÊçÆÂÆûÈôÖÁöÑÂú∞ÂùÄËé∑ÂèñÁªèÁ∫¨Â∫¶ÔºåÊöÇÊó∂‰ΩøÁî®Á§∫‰æãÂùêÊ†á\n        // ÂÆûÈôÖÈ°πÁõÆ‰∏≠Â∫îËØ•Ë∞ÉÁî®Âú∞ÁêÜÁºñÁ†ÅAPIÊàñËÄÖ‰ªªÂä°Êï∞ÊçÆ‰∏≠ÂåÖÂê´ÁªèÁ∫¨Â∫¶‰ø°ÊÅØ\n        const marker = {\n            id: index + 1, // ‰ΩøÁî®Êï∞Â≠óIDÔºå‰ªé1ÂºÄÂßãÔºà0Â∑≤Ë¢´ÂΩìÂâç‰ΩçÁΩÆ‰ΩøÁî®Ôºâ\n            latitude: currentLocation.value.latitude + (index * 0.01), // Âü∫‰∫éÂΩìÂâç‰ΩçÁΩÆÁöÑÁ§∫‰æãÂùêÊ†áÂÅèÁßª\n            longitude: currentLocation.value.longitude + (index * 0.01),\n            title: task.merchantName,\n            iconPath: '/static/ssd/positioning.png',\n            width: 25,\n            height: 25,\n            callout: {\n                content: task.merchantName,\n                color: '#000000',\n                fontSize: 12,\n                borderRadius: 5,\n                bgColor: '#ffffff',\n                padding: 5,\n                display: 'ALWAYS'\n            }\n        }\n\n        mapMarkers.value.push(marker)\n    })\n}\n\n// ÁªòÂà∂Ë∑ØÁ∫ø\nconst drawRoute = () => {\n    if (mapMarkers.value.length < 2) {\n        console.log('Ê†áËÆ∞Êï∞Èáè‰∏çË∂≥ÔºåÊó†Ê≥ïÁªòÂà∂Ë∑ØÁ∫ø')\n        return\n    }\n\n    // ÊûÑÂª∫Ë∑ØÁ∫øÁÇπÔºà‰ªéÂΩìÂâç‰ΩçÁΩÆÂà∞ÂêÑ‰∏™‰ªªÂä°ÁÇπÔºâ\n    const points = mapMarkers.value.map(marker => ({\n        latitude: marker.latitude,\n        longitude: marker.longitude\n    }))\n\n    // ÂàõÂª∫Ë∑ØÁ∫ø\n    const polyline = {\n        points: points,\n        color: '#07c160',\n        width: 4,\n        arrowLine: true\n    }\n\n    mapPolyline.value = [polyline]\n    console.log('Ë∑ØÁ∫øÂ∑≤ÁªòÂà∂:', mapPolyline.value)\n}\n\n// ÁÆÄÂåñÁöÑË∑ØÁ∫øËßÑÂàíÔºà‰∏ç‰ΩøÁî®Â§©Âú∞ÂõæAPIÔºâ\nconst planRoute = () => {\n    console.log('ÂºÄÂßãË∑ØÁ∫øËßÑÂàí...')\n\n    if (mapMarkers.value.length < 2) {\n        console.log('Ê†áËÆ∞Êï∞Èáè‰∏çË∂≥ÔºåÊó†Ê≥ïÁªòÂà∂Ë∑ØÁ∫ø')\n        return\n    }\n\n    // Áõ¥Êé•ÁªòÂà∂ÁÆÄÂçïË∑ØÁ∫øÔºåËøûÊé•ÊâÄÊúâÊ†áËÆ∞ÁÇπ\n    drawRoute()\n    console.log('Ë∑ØÁ∫øËßÑÂàíÂÆåÊàê')\n}\n\n// onLoad: ÁÆÄÂçïÁõ¥Êé•ÁöÑÊé•Êî∂ÂèÇÊï∞ÊñπÂºè\nonLoad(() => {\n    console.log('È°µÈù¢Âä†ËΩΩÔºåÊé•Êî∂ÂèÇÊï∞')\n\n    // Áõ¥Êé•‰ªéÂ≠òÂÇ®Ëé∑ÂèñÊï∞ÊçÆÔºåÁÆÄÂçïÂèØÈù†\n    const mapData = uni.getStorageSync('mapData')\n    if (mapData) {\n        console.log('Ëé∑ÂèñÂú∞ÂõæÊï∞ÊçÆ:', mapData)\n        setMapData(mapData)\n        isDataReceived.value = true\n        // Ê∏ÖÁêÜÂ≠òÂÇ®Êï∞ÊçÆ\n        uni.removeStorageSync('mapData')\n    } else {\n        console.log('ÊöÇÊó†Êï∞ÊçÆÔºåÁ≠âÂæÖ‰º†ÈÄí')\n    }\n})\n\n// onMounted: ‰∏ìÈó®Ë¥üË¥£ÂàùÂßãÂåñÂú∞Âõæ - ‰øÆÂ§çnextTickÈóÆÈ¢ò\nonMounted(() => {\n    console.log('DOMÂ∑≤ÊåÇËΩΩÂÆåÊàêÔºåÁ≠âÂæÖÊï∞ÊçÆÂêéÂàùÂßãÂåñÂú∞Âõæ')\n\n    // Á≠âÂæÖÊï∞ÊçÆÊé•Êî∂ÂÆåÊàêÂêéÂÜçÂàùÂßãÂåñÂú∞Âõæ\n    const waitForDataAndInitMap = () => {\n        if (isDataReceived.value) {\n            console.log('Êï∞ÊçÆÂ∑≤Êé•Êî∂ÔºåÂºÄÂßãÂàùÂßãÂåñÂú∞Âõæ')\n            // üî• ‰øÆÂ§çÔºöÁõ¥Êé•‰ΩøÁî®setTimeoutÔºå‰∏çÁî®nextTick\n            setTimeout(() => {\n                useUniAppLocation()\n            }, 500) // ÂáèÂ∞ëÂª∂ËøüÊó∂Èó¥\n        } else {\n            // Êï∞ÊçÆËøòÊ≤°Êé•Êî∂ÂÆåÊàêÔºåÁªßÁª≠Á≠âÂæÖ\n            setTimeout(waitForDataAndInitMap, 100)\n        }\n    }\n\n    // ÂºÄÂßãÁ≠âÂæÖÊï∞ÊçÆ\n    waitForDataAndInitMap()\n})\n\n// ËÆæÁΩÆÂú∞ÂõæÊï∞ÊçÆÁöÑÈÄöÁî®ÊñπÊ≥ï\nconst setMapData = (data) => {\n    taskList.value = data.taskList || []\n    driverName.value = data.driverName || ''\n    registrationNumber.value = data.registrationNumber || ''\n    bucketNum.value = data.bucketNum || 0\n    currentDate.value = data.currentDate || ''\n\n    console.log('Êï∞ÊçÆËÆæÁΩÆÂÆåÊàê')\n}\n\n// ËøîÂõû‰∏ä‰∏ÄÈ°µ\nconst back = () => {\n    uni.navigateBack()\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    background-color: $bg-theme-color;\n    min-height: 100vh;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n\n\n    .map-container {\n        height: 1000rpx; // ÁªôÂú∞ÂõæÂõ∫ÂÆöÈ´òÂ∫¶\n        position: relative;\n\n        .navigation-map {\n            width: 100%;\n            height: 100%;\n        }\n\n        .location-status {\n            position: absolute;\n            top: 30rpx;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: rgba(255, 255, 255, 0.95);\n            border-radius: 50rpx;\n            padding: 20rpx 30rpx;\n            display: flex;\n            align-items: center;\n            gap: 15rpx;\n            box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);\n            z-index: 999;\n            border: 2rpx solid #07C160;\n\n            .status-text {\n                color: #07C160;\n                font-size: 28rpx;\n                font-weight: 500;\n            }\n        }\n    }\n\n    .bottom-section {\n        padding: 30rpx;\n        background-color: $bg-theme-color;\n\n        .driver-info-card {\n            background: #FFFFFF;\n            border-radius: 16rpx;\n            padding: 30rpx;\n            margin-bottom: 20rpx;\n\n            .info-item {\n                display: flex;\n                align-items: center;\n                gap: 20rpx;\n                margin-bottom: 20rpx;\n\n                .avatar {\n                    width: 60rpx;\n                    height: 60rpx;\n                    border-radius: 50%;\n                    background-color: #07C160;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n\n                    .avatar-text {\n                        color: white;\n                        font-size: 24rpx;\n                        font-weight: 500;\n                    }\n                }\n\n                .name-info {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n                    gap: 10rpx;\n\n                    .label {\n                        color: rgba(61, 61, 61, 0.50);\n                        font-size: 28rpx;\n                    }\n\n                    .value {\n                        color: rgba(61, 61, 61, 1);\n                        font-size: 28rpx;\n                        font-weight: 500;\n                    }\n                }\n            }\n\n            .divider {\n                height: 2rpx;\n                background-color: #f0f0f0;\n                margin: 20rpx 0;\n            }\n\n            .driver-details {\n                display: flex;\n                flex-direction: column;\n                gap: 20rpx;\n\n                .detail-item {\n                    display: flex;\n                    align-items: center;\n\n                    .label {\n                        color: rgba(61, 61, 61, 0.50);\n                        font-size: 28rpx;\n                        min-width: 180rpx;\n                    }\n\n                    .value {\n                        color: rgba(61, 61, 61, 1);\n                        font-size: 28rpx;\n                    }\n                }\n            }\n        }\n\n    }\n}\n\n\nbody {\n    background-color: #F5F5F5;\n}\n</style>\n","import MiniProgramPage from '/Users/yx/Documents/Vue3Projects/cycl/pages/collection/syAllMap.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","computed","uni","onLoad","onMounted"],"mappings":"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"}