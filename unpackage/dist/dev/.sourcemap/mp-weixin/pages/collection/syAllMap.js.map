{"version":3,"file":"syAllMap.js","sources":["pages/collection/syAllMap.vue","pages/collection/syAllMap.vue?type=page"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <uni-nav-bar dark :fixed=\"true\" background-color=\"#fff\" status-bar left-icon=\"left\" color=\"#000\" title=\"收运地图详情\"\n            @clickLeft=\"back\" />\n\n        <view class=\"map-container\">\n            <map id=\"navigationMap\" class=\"navigation-map\" :scale=\"mapScale\" :markers=\"mapMarkers\"\n                :polyline=\"mapPolyline\" :show-location=\"true\" :enable-zoom=\"true\" :enable-scroll=\"true\"\n                :latitude=\"mapCenter.latitude\" :longitude=\"mapCenter.longitude\"></map>\n\n            <!-- 定位状态提示 -->\n            <view class=\"location-status\" v-if=\"isLocating\">\n                <uni-icons type=\"spinner-cycle\" size=\"20\" color=\"#07C160\"></uni-icons>\n                <text class=\"status-text\">正在定位和规划路线...</text>\n            </view>\n        </view>\n\n        <view class=\"bottom-section\">\n            <view class=\"driver-info-card\">\n                <view class=\"info-item\">\n                    <view class=\"avatar\">\n                        <view class=\"avatar-text\">{{ userStore.userSFAvatar }}</view>\n                    </view>\n                    <view class=\"name-info\">\n                        <text class=\"label\">司机姓名：</text>\n                        <text class=\"value\">{{ driverName }}</text>\n                    </view>\n                    <uni-icons type=\"location\" size=\"16\" color=\"#00B578\"></uni-icons>\n                </view>\n\n                <view class=\"divider\"></view>\n\n                <view class=\"driver-details\">\n                    <view class=\"detail-item\">\n                        <text class=\"label\">车牌号：</text>\n                        <text class=\"value\">{{ registrationNumber }}</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">预估总重量：</text>\n                        <text class=\"value\">{{ totalEstimateWeight }}kg</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">垃圾桶数：</text>\n                        <text class=\"value\">{{ bucketNum }}个</text>\n                    </view>\n                    <view class=\"detail-item\">\n                        <text class=\"label\">收运日期：</text>\n                        <text class=\"value\">{{ currentDate }}</text>\n                    </view>\n                </view>\n            </view>\n\n        </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, nextTick } from 'vue'\nimport { useUserStore } from '@/stores/user.js'\n\nconst userStore = useUserStore()\n\n// 地图相关数据\nconst mapScale = ref(14) // 提高缩放级别，更清楚显示当前位置\nconst mapMarkers = ref([])\nconst mapPolyline = ref([])\nconst mapCenter = ref({\n    latitude: 30.6586, // 成都市中心坐标\n    longitude: 104.0647\n})\n\n// 接收的参数数据\nconst taskList = ref([])\nconst driverName = ref('')\nconst registrationNumber = ref('')\nconst bucketNum = ref(0)\nconst currentDate = ref('')\n\n// 定位相关状态\nconst isLocating = ref(false)\nconst currentLocation = ref({\n    latitude: 0,\n    longitude: 0,\n    accuracy: 0\n})\n\n// 计算总预估重量\nconst totalEstimateWeight = computed(() => {\n    return taskList.value.reduce((total, task) => {\n        return total + (parseFloat(task.estimateWeight) || 0)\n    }, 0).toFixed(1)\n})\n\n\n// 使用UniApp定位\nconst useUniAppLocation = () => {\n    console.log('开始定位...')\n    isLocating.value = true\n\n    // 先检查定位权限\n    checkLocationPermission()\n}\n\n// 检查定位权限\nconst checkLocationPermission = () => {\n    uni.getSetting({\n        success: (res) => {\n            console.log('获取权限设置:', res.authSetting)\n\n            if (res.authSetting['scope.userLocation'] === false) {\n                // 用户拒绝过定位权限，需要引导用户手动开启\n                uni.showModal({\n                    title: '定位权限',\n                    content: '需要获取您的地理位置，请前往设置页面开启定位权限',\n                    showCancel: true,\n                    confirmText: '去设置',\n                    success: (modalRes) => {\n                        if (modalRes.confirm) {\n                            uni.openSetting({\n                                success: (settingRes) => {\n                                    if (settingRes.authSetting['scope.userLocation']) {\n                                        // 用户开启了权限，重新定位\n                                        startUniAppLocation()\n                                    } else {\n                                        isLocating.value = false\n                                    }\n                                }\n                            })\n                        } else {\n                            isLocating.value = false\n                        }\n                    }\n                })\n            } else {\n                // 权限正常或未设置，直接定位\n                startUniAppLocation()\n            }\n        },\n        fail: () => {\n            // 获取设置失败，直接尝试定位\n            startUniAppLocation()\n        }\n    })\n}\n\n// 开始UniApp定位\nconst startUniAppLocation = () => {\n    uni.getLocation({\n        type: 'gcj02', // 直接获取GCJ02坐标系的位置\n        altitude: false, // 不需要高度信息\n        success: (res) => {\n            const lat = res.latitude\n            const lng = res.longitude\n\n            console.log('定位成功(GCJ02):', lat, lng)\n\n            // 更新当前位置\n            currentLocation.value = {\n                latitude: lat,\n                longitude: lng,\n                accuracy: res.accuracy || 100\n            }\n\n            // 更新地图中心点\n            mapCenter.value.latitude = lat\n            mapCenter.value.longitude = lng\n\n            console.log('地图中心点已更新为:', lat, lng)\n\n            nextTick(() => {\n                // 添加当前位置标记\n                addCurrentLocationMarker(lat, lng)\n\n                // 添加任务地点标记\n                addTaskMarkers()\n\n                // 绘制路线和规划路径\n                planRoute()\n\n                isLocating.value = false\n\n                uni.showToast({\n                    title: '定位成功，路线规划完成',\n                    icon: 'success'\n                })\n            })\n        },\n        fail: (error) => {\n            console.error('定位失败:', error)\n            isLocating.value = false\n\n            // 根据错误类型给出不同提示\n            let errorMsg = '定位失败'\n            if (error.errMsg) {\n                if (error.errMsg.includes('auth deny')) {\n                    errorMsg = '定位权限被拒绝，请开启定位权限'\n                } else if (error.errMsg.includes('location fail')) {\n                    errorMsg = '定位服务不可用，请检查手机定位设置'\n                } else {\n                    errorMsg = '定位失败：' + error.errMsg\n                }\n            }\n\n            uni.showModal({\n                title: '定位失败',\n                content: errorMsg,\n                showCancel: true,\n                confirmText: '重试',\n                cancelText: '取消',\n                success: (modalRes) => {\n                    if (modalRes.confirm) {\n                        // 用户选择重试\n                        setTimeout(() => {\n                            useUniAppLocation()\n                        }, 1000)\n                    } else {\n                        // 使用默认位置（成都市中心）\n                        useDefaultLocation()\n                    }\n                }\n            })\n        }\n    })\n}\n\n// 使用默认位置\nconst useDefaultLocation = () => {\n    console.log('使用默认位置（成都市中心）')\n    const defaultLat = 30.6586\n    const defaultLng = 104.0647\n\n    currentLocation.value = {\n        latitude: defaultLat,\n        longitude: defaultLng,\n        accuracy: 1000\n    }\n\n    mapCenter.value.latitude = defaultLat\n    mapCenter.value.longitude = defaultLng\n\n    console.log('地图中心点已更新为默认位置:', defaultLat, defaultLng)\n\n    nextTick(() => {\n        // 添加默认位置标记\n        addCurrentLocationMarker(defaultLat, defaultLng)\n\n        // 添加任务地点标记\n        addTaskMarkers()\n\n        // 绘制路线和规划路径\n        planRoute()\n\n        uni.showToast({\n            title: '使用默认位置，路线规划完成',\n            icon: 'none'\n        })\n    })\n}\n\n// 添加当前位置标记\nconst addCurrentLocationMarker = (lat, lng) => {\n    const marker = {\n        id: 0, // 使用数字ID\n        latitude: lat,\n        longitude: lng,\n        title: '当前位置',\n        iconPath: '/static/ssd/positioning.png',\n        width: 30,\n        height: 30,\n        callout: {\n            content: '当前位置',\n            color: '#000000',\n            fontSize: 12,\n            borderRadius: 5,\n            bgColor: '#ffffff',\n            padding: 5,\n            display: 'ALWAYS'\n        }\n    }\n\n    mapMarkers.value = [marker] // 先清空再添加\n}\n\n// 添加任务地点标记\nconst addTaskMarkers = () => {\n    taskList.value.forEach((task, index) => {\n        // 这里需要根据实际的地址获取经纬度，暂时使用示例坐标\n        // 实际项目中应该调用地理编码API或者任务数据中包含经纬度信息\n        const marker = {\n            id: index + 1, // 使用数字ID，从1开始（0已被当前位置使用）\n            latitude: currentLocation.value.latitude + (index * 0.01), // 基于当前位置的示例坐标偏移\n            longitude: currentLocation.value.longitude + (index * 0.01),\n            title: task.merchantName,\n            iconPath: '/static/ssd/positioning.png',\n            width: 25,\n            height: 25,\n            callout: {\n                content: task.merchantName,\n                color: '#000000',\n                fontSize: 12,\n                borderRadius: 5,\n                bgColor: '#ffffff',\n                padding: 5,\n                display: 'ALWAYS'\n            }\n        }\n\n        mapMarkers.value.push(marker)\n    })\n}\n\n// 绘制路线\nconst drawRoute = () => {\n    if (mapMarkers.value.length < 2) {\n        console.log('标记数量不足，无法绘制路线')\n        return\n    }\n\n    // 构建路线点（从当前位置到各个任务点）\n    const points = mapMarkers.value.map(marker => ({\n        latitude: marker.latitude,\n        longitude: marker.longitude\n    }))\n\n    // 创建路线\n    const polyline = {\n        points: points,\n        color: '#07c160',\n        width: 4,\n        arrowLine: true\n    }\n\n    mapPolyline.value = [polyline]\n    console.log('路线已绘制:', mapPolyline.value)\n}\n\n// 简化的路线规划（不使用天地图API）\nconst planRoute = () => {\n    console.log('开始路线规划...')\n\n    if (mapMarkers.value.length < 2) {\n        console.log('标记数量不足，无法绘制路线')\n        return\n    }\n\n    // 直接绘制简单路线，连接所有标记点\n    drawRoute()\n    console.log('路线规划完成')\n}\n\n\n// 页面加载时接收数据\nonMounted(() => {\n    console.log('页面DOM已挂载')\n\n    // 兼容性处理：尝试使用 EventChannel，失败则使用存储方式\n    try {\n        const eventChannel = uni.getOpenerEventChannel && uni.getOpenerEventChannel()\n        if (eventChannel) {\n            // 使用 EventChannel 接收数据\n            eventChannel.on('sendMapData', (data) => {\n                console.log('通过EventChannel接收到地图数据:', data)\n                setMapData(data)\n            })\n        } else {\n            throw new Error('EventChannel not supported')\n        }\n    } catch (error) {\n        console.log('EventChannel不支持，使用存储方式:', error.message)\n        // 降级方案：从存储中获取数据\n        const mapData = uni.getStorageSync('mapData')\n        if (mapData) {\n            console.log('从存储获取地图数据:', mapData)\n            setMapData(mapData)\n            // 清理存储数据\n            uni.removeStorageSync('mapData')\n        }\n    }\n})\n\n// 设置地图数据的通用方法\nconst setMapData = (data) => {\n    taskList.value = data.taskList || []\n    driverName.value = data.driverName || ''\n    registrationNumber.value = data.registrationNumber || ''\n    bucketNum.value = data.bucketNum || 0\n    currentDate.value = data.currentDate || ''\n\n    console.log('数据设置完成，开始定位和路线规划')\n\n    // 数据接收完成后开始定位和路线规划\n    nextTick(() => {\n        setTimeout(() => {\n            useUniAppLocation()\n        }, 1000) // 1秒延迟，确保地图完全渲染和页面稳定\n    })\n}\n\n// 返回上一页\nconst back = () => {\n    uni.navigateBack()\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n    background-color: $bg-theme-color;\n    min-height: 100vh;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n\n\n    .map-container {\n        height: 1000rpx; // 给地图固定高度\n        position: relative;\n\n        .navigation-map {\n            width: 100%;\n            height: 100%;\n        }\n\n        .location-status {\n            position: absolute;\n            top: 30rpx;\n            left: 50%;\n            transform: translateX(-50%);\n            background-color: rgba(255, 255, 255, 0.95);\n            border-radius: 50rpx;\n            padding: 20rpx 30rpx;\n            display: flex;\n            align-items: center;\n            gap: 15rpx;\n            box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.15);\n            z-index: 999;\n            border: 2rpx solid #07C160;\n\n            .status-text {\n                color: #07C160;\n                font-size: 28rpx;\n                font-weight: 500;\n            }\n        }\n    }\n\n    .bottom-section {\n        padding: 30rpx;\n        background-color: $bg-theme-color;\n\n        .driver-info-card {\n            background: #FFFFFF;\n            border-radius: 16rpx;\n            padding: 30rpx;\n            margin-bottom: 20rpx;\n\n            .info-item {\n                display: flex;\n                align-items: center;\n                gap: 20rpx;\n                margin-bottom: 20rpx;\n\n                .avatar {\n                    width: 60rpx;\n                    height: 60rpx;\n                    border-radius: 50%;\n                    background-color: #07C160;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n\n                    .avatar-text {\n                        color: white;\n                        font-size: 24rpx;\n                        font-weight: 500;\n                    }\n                }\n\n                .name-info {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n                    gap: 10rpx;\n\n                    .label {\n                        color: rgba(61, 61, 61, 0.50);\n                        font-size: 28rpx;\n                    }\n\n                    .value {\n                        color: rgba(61, 61, 61, 1);\n                        font-size: 14px;\n                        font-weight: 500;\n                    }\n                }\n            }\n\n            .divider {\n                height: 2rpx;\n                background-color: #f0f0f0;\n                margin: 20rpx 0;\n            }\n\n            .driver-details {\n                display: flex;\n                flex-direction: column;\n                gap: 20rpx;\n\n                .detail-item {\n                    display: flex;\n                    align-items: center;\n\n                    .label {\n                        color: rgba(61, 61, 61, 0.50);\n                        font-size: 28rpx;\n                        min-width: 180rpx;\n                    }\n\n                    .value {\n                        color: rgba(61, 61, 61, 1);\n                        font-size: 14px;\n                    }\n                }\n            }\n        }\n\n    }\n}\n\n/* 确保页面背景色始终正确显示 */\npage {\n    background-color: #F5F5F5;\n    height: 100%;\n}\n\nbody {\n    background-color: #F5F5F5;\n}\n</style>\n","import MiniProgramPage from '/Users/yx/Documents/Vue3Projects/cycl/pages/collection/syAllMap.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","computed","uni","nextTick","onMounted"],"mappings":"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"}