{"version":3,"file":"signature.js","sources":["uni_modules/lime-signature/components/l-signature/signature.js"],"sourcesContent":["function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;arguments.length>i;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t){return i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i(t)}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){for(var i=0;e.length>i;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,\"prototype\",{writable:!1}),e&&u(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t,e){if(e&&(\"object\"==typeof e||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}(t)}function l(t){var e=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=h(t);if(e){var o=h(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return c(this,i)}}var v=function(t){var e=i(t);return null!==t&&\"object\"===e||\"function\"===e},f={}.toString,d=function(t,e){return f.call(t)===\"[object \"+e+\"]\"},p=function(t){return d(t,\"String\")},y=function(t){return d(t,\"Number\")},g=function(t){return d(t,\"Function\")},m=function(){function t(){n(this,t),this.__events=void 0,this.__events={}}return a(t,[{key:\"on\",value:function(t,e){if(t&&e){var i=this.__events[t]||[];i.push(e),this.__events[t]=i}}},{key:\"emit\",value:function(t,e){var i=this;if(v(t)&&(t=(e=t)&&e.type),t){var n=this.__events[t];n&&n.length&&n.forEach((function(t){t.call(i,e)}))}}},{key:\"off\",value:function(t,e){var i=this.__events,n=i[t];if(n&&n.length)if(e)for(var o=0,a=n.length;a>o;o++)n[o]===e&&(n.splice(o,1),o--);else delete i[t]}},{key:\"getEvents\",value:function(){return this.__events}}]),t}(),x=function(t){s(i,m);var e=l(i);function i(t,o){var a;return n(this,i),(a=e.call(this)).context=void 0,a.canvas=void 0,a.attrs=void 0,a.isCanvasElement=void 0,a.context=t,a.canvas=o.canvas||t.canvas||{width:o.width||0,height:o.height||0},a.attrs=o||{},a.isCanvasElement=!0,a}return a(i,[{key:\"width\",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:\"height\",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}},{key:\"getContext\",value:function(){return this.context}},{key:\"getBoundingClientRect\",value:function(){var t=this.attrs||{},e=t.top,i=t.right,n=t.width,o=t.height,a=t.left,r=t.bottom;return{top:void 0===e?0:e,width:void 0===n?0:n,right:void 0===i?0:i,height:void 0===o?0:o,bottom:void 0===r?0:r,left:void 0===a?0:a}}},{key:\"setAttribute\",value:function(t,e){this.attrs[t]=e}},{key:\"addEventListener\",value:function(t,e){this.on(t,e)}},{key:\"removeEventListener\",value:function(t,e){this.off(t,e)}},{key:\"dispatchEvent\",value:function(t,e){this.emit(t,e)}}]),i}();var w=function(t,e){return t?function(t){if(!t)return!1;if(1!==t.nodeType||!t.nodeName||\"canvas\"!==t.nodeName.toLowerCase())return!1;var e=!1;try{t.addEventListener(\"eventTest\",(function(){e=!0})),t.dispatchEvent(new Event(\"eventTest\"))}catch(t){e=!1}return e}(t.canvas)?t.canvas:new x(t,e):null};function b(t,e){try{return t.currentStyle?t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}catch(t){return{width:300,height:150}[e]}}function k(t,e){var i=e.get(\"el\");if(!i)return t;var n=i.getBoundingClientRect(),o=n.top,a=void 0===o?0:o,r=n.left,s=void 0===r?0:r,h=parseFloat(b(i,\"padding-left\"))||0,u=parseFloat(b(i,\"padding-top\"))||0;return{x:t.x-s-h,y:t.y-a-u}}function _(t,e){var i=e.get(\"landscape\");if(!i)return t;if(g(i))return i(t,e);var n=e.get(\"height\");return{x:t.y,y:n-t.x}}var E=function(t,e){var i=t.touches;if(!i||!i.length)return[_(k({x:t.clientX,y:t.clientY},e),e)];i.length||(i=t.changedTouches||[]);for(var n=[],o=0,a=i.length;a>o;o++){var r=i[o],s=r.x,h=r.y,u=r.clientX,c=r.clientY,l=void 0;l=y(s)||y(h)?{x:s,y:h}:k({x:u,y:c},e),n.push(_(l,e))}return n},L=function(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.abs(i)>Math.abs(n)?i>0?\"right\":\"left\":n>0?\"down\":\"up\"},M=function(t,e){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},P=function(){function t(e){var i=this,o=e.canvas,a=e.el;n(this,t),this.processEvent=void 0,this.canvas=void 0,this.startTime=0,this.endTime=0,this.startPoints=null,this.startDistance=0,this.center=null,this.pressTimeout=void 0,this.eventType=null,this.direction=null,this.lastMoveTime=0,this.prevMovePoints=null,this.prevMoveTime=0,this.lastMovePoints=null,this.pinch=!1,this._click=function(t){var e=E(t,i.canvas);t.points=e,i.emitEvent(\"click\",t)},this._start=function(t){var e,n,o=E(t,i.canvas);o&&(t.points=o,i.emitEvent(\"touchstart\",t),i.reset(),i.startTime=Date.now(),i.startPoints=o,o.length>1?(i.startDistance=M(o[0],o[1]),i.center={x:(e=o[0]).x+((n=o[1]).x-e.x)/2,y:e.y+(n.y-e.y)/2}):i.pressTimeout=setTimeout((function(){var e=\"press\",n=\"none\";t.direction=n,i.emitStart(e,t),i.emitEvent(e,t),i.eventType=e,i.direction=n}),250))},this._move=function(t){var e=E(t,i.canvas);if(e){t.points=e,i.emitEvent(\"touchmove\",t);var n=i.startPoints;if(n)if(e.length>1){var o=i.startDistance,a=M(e[0],e[1]);t.zoom=a/o,t.center=i.center,i.emitStart(\"pinch\",t),i.emitEvent(\"pinch\",t)}else{var r=e[0].x-n[0].x,s=e[0].y-n[0].y,h=i.direction||L(n[0],e[0]);i.direction=h;var u=i.getEventType(e);t.direction=h,t.deltaX=r,t.deltaY=s,i.emitStart(u,t),i.emitEvent(u,t);var c=i.lastMoveTime,l=Date.now();l-c>0&&(i.prevMoveTime=c,i.prevMovePoints=i.lastMovePoints,i.lastMoveTime=l,i.lastMovePoints=e)}}},this._end=function(t){var e=E(t,i.canvas);t.points=e,i.emitEnd(t),i.emitEvent(\"touchend\",t);var n=i.lastMoveTime;if(100>Date.now()-n){var o=n-(i.prevMoveTime||i.startTime);if(o>0){var a=i.prevMovePoints||i.startPoints,r=i.lastMovePoints;if(!a||!r)return;var s=M(a[0],r[0])/o;s>.3&&(t.velocity=s,t.direction=L(a[0],r[0]),i.emitEvent(\"swipe\",t))}}i.reset();var h=t.touches;h&&h.length>0&&i._start(t)},this._cancel=function(t){i.emitEvent(\"touchcancel\",t),i.reset()},this.canvas=o,this.delegateEvent(a),this.processEvent={}}return a(t,[{key:\"delegateEvent\",value:function(t){t.addEventListener(\"click\",this._click),t.addEventListener(\"touchstart\",this._start),t.addEventListener(\"touchmove\",this._move),t.addEventListener(\"touchend\",this._end),t.addEventListener(\"touchcancel\",this._cancel)}},{key:\"emitEvent\",value:function(t,e){this.canvas.emit(t,e)}},{key:\"getEventType\",value:function(t){var e,i=this.eventType,n=this.startTime,o=this.startPoints;if(i)return i;var a=this.canvas.__events.pan;if(a&&a.length){var r=Date.now();if(!o)return;e=r-n>250&&10>M(o[0],t[0])?\"press\":\"pan\"}else e=\"press\";return this.eventType=e,e}},{key:\"enable\",value:function(t){this.processEvent[t]=!0}},{key:\"isProcess\",value:function(t){return this.processEvent[t]}},{key:\"emitStart\",value:function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(\"\".concat(t,\"start\"),e))}},{key:\"emitEnd\",value:function(t){}},{key:\"clearPressTimeout\",value:function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:\"reset\",value:function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}(),T=function(t){s(o,m);var e=l(o);function o(t){var i;n(this,o),(i=e.call(this))._attrs={},i._isWindow=void 0,i._attrs=Object.assign({},t),i._isWindow=\"undefined\"!=typeof window,i._initPixelRatio(),i._initCanvas();return[\"createImage\",\"toDataURL\",\"requestAnimationFrame\"].forEach((function(e){i._initAttrs(e,t.canvas||i.get(\"el\"))})),i}return a(o,[{key:\"get\",value:function(t){return this._attrs[t]}},{key:\"set\",value:function(t,e){this._attrs[t]=e}},{key:\"_initAttrs\",value:function(t,e){var i=this;if(!this.get(t)){this.set(t,(function(){return e[t]?e[t].apply(e,arguments):i._isWindow?window[t]?(n=window)[t].apply(n,arguments):\"createImage\"==t?new Image:null:void 0;var n}))}}},{key:\"_initCanvas\",value:function(){var t,e,i=this.get(\"el\"),n=this.get(\"context\");if(!i&&!n)throw Error(\"请指定 id、el 或 context!\");t=i?p(i)?(e=i)?document.getElementById(e):null:i:w(n,this._attrs),n&&t&&!t.getContext&&(t.getContext=function(){return n});var o=this.get(\"width\")||function(t){var e=b(t,\"width\");return\"auto\"===e&&(e=t.offsetWidth),parseFloat(e)}(t)||t.width,a=this.get(\"height\")||function(t){var e=b(t,\"height\");return\"auto\"===e&&(e=t.offsetHeight),parseFloat(e)}(t)||t.height;this.set(\"canvas\",this),this.set(\"el\",t),this.set(\"context\",n||t.getContext(\"2d\")),this.changeSize(o,a);var r=new P({canvas:this,el:t,parent:this.get(\"parent\")});this.set(\"eventController\",r)}},{key:\"_initPixelRatio\",value:function(){this.get(\"pixelRatio\")||this.set(\"pixelRatio\",window&&window.devicePixelRatio||1)}},{key:\"changeSize\",value:function(t,e){var n,o=this.get(\"pixelRatio\"),a=this.get(\"el\");(a.style&&(a.style.width=t+\"px\",a.style.height=e+\"px\"),(n=a)&&\"object\"===i(n)&&(1===n.nodeType&&n.nodeName||n.isCanvasElement))&&(a.width=t*o,a.height=e*o,1!==o&&this.get(\"context\").scale(o,o));this.set(\"width\",t),this.set(\"height\",e)}},{key:\"destroy\",value:function(){if(!this.get(\"destroyed\")){var t=this.get(\"el\");t.width=0,t.height=0,this.clear(),this._attrs={},this.set(\"destroyed\",!0)}}},{key:\"clear\",value:function(){}},{key:\"isDestroyed\",value:function(){return this.get(\"destroyed\")}}]),o}();var S={penColor:\"black\",backgroundColor:\"\",openSmooth:!0,penSize:2,minLineWidth:2,maxLineWidth:6,minSpeed:1.5,maxWidthDiffRate:20,maxHistoryLength:20},D=null,O=function(){function t(e){var i=this;n(this,t),this.canAddHistory=!0,this.points=[],this.historyList=[],this.undoneList=[],this.canvas=void 0,this._isEmpty=!0,this.active=!1,this.getLineWidth=function(t){var e=i.get(\"options\"),n=e.minSpeed,o=e.minLineWidth,a=i.getMaxLineWidth();return Math.min(Math.max(a-(a-o)*t/Math.max(Math.min(n,10),1),o),a)},this.drawTrapezoid=function(t,e,n,o){var a=i.get(\"context\");a.beginPath(),a.moveTo(Number(t.x.toFixed(1)),Number(t.y.toFixed(1))),a.lineTo(Number(e.x.toFixed(1)),Number(e.y.toFixed(1))),a.lineTo(Number(n.x.toFixed(1)),Number(n.y.toFixed(1))),a.lineTo(Number(o.x.toFixed(1)),Number(o.y.toFixed(1))),a.fillStyle=i.get(\"options\").penColor,a.fill(),a.draw&&a.draw(!0)},this.drawNoSmoothLine=function(t,e){e.lastX=t.x+.5*(e.x-t.x),e.lastY=t.y+.5*(e.y-t.y),\"number\"==typeof t.lastX&&i.drawCurveLine(t.lastX,t.lastY,t.x,t.y,e.lastX,e.lastY,i.getMaxLineWidth())},this.drawCurveLine=function(t,e,n,o,a,r,s){s=Number(s.toFixed(1));var h=i.get(\"context\");h.lineWidth=s,h.beginPath(),h.moveTo(Number(t.toFixed(1)),Number(e.toFixed(1))),h.quadraticCurveTo(Number(n.toFixed(1)),Number(o.toFixed(1)),Number(a.toFixed(1)),Number(r.toFixed(1))),h.stroke(),h.draw&&h.draw(!0)},this.getRadianData=function(t,e,i,n){var o=i-t,a=n-e;if(0===o)return{val:0,pos:-1};if(0===a)return{val:0,pos:1};var r=Math.abs(Math.atan(a/o));return i>t&&e>n||t>i&&n>e?{val:r,pos:1}:{val:r,pos:-1}},this.getRadianPoints=function(t,e,i,n){if(0===t.val)return 1===t.pos?[{x:e,y:i+n},{x:e,y:i-n}]:[{y:i,x:e+n},{y:i,x:e-n}];var o=Math.sin(t.val)*n,a=Math.cos(t.val)*n;return 1===t.pos?[{x:e+o,y:i+a},{x:e-o,y:i-a}]:[{x:e+o,y:i-a},{x:e-o,y:i+a}]},this.drawSmoothLine=function(t,e){var n=e.x-t.x,o=e.y-t.y;if(Math.abs(n)+Math.abs(o)>2?(e.lastX1=t.x+.3*n,e.lastY1=t.y+.3*o,e.lastX2=t.x+.7*n,e.lastY2=t.y+.7*o):(e.lastX1=e.lastX2=t.x+.5*n,e.lastY1=e.lastY2=t.y+.5*o),e.perLineWidth=(t.lineWidth+e.lineWidth)/2,\"number\"==typeof t.lastX1){if(i.drawCurveLine(t.lastX2,t.lastY2,t.x,t.y,e.lastX1,e.lastY1,e.perLineWidth),t.isFirstPoint)return;if(t.lastX1===t.lastX2&&t.lastY1===t.lastY2)return;var a=i.getRadianData(t.lastX1,t.lastY1,t.lastX2,t.lastY2),r=i.getRadianPoints(a,t.lastX1,t.lastY1,t.perLineWidth/2),s=i.getRadianPoints(a,t.lastX2,t.lastY2,e.perLineWidth/2);i.drawTrapezoid(r[0],s[0],s[1],r[1])}else e.isFirstPoint=!0},this.addHistory=function(){var t=i.get(\"options\").maxHistoryLength;if(t&&i.canAddHistory)if(i.canAddHistory=!1,i.get(\"createImage\")){var e=null;e=i.get(\"createImage\")();var n=i.get(\"toDataURL\")&&i.get(\"toDataURL\")();p(n)?e.src=n:n.then((function(t){e.src=t})),e.onload=function(){var n=D;D=e,i.historyList.push(n),i.historyList=i.historyList.slice(-t)}}else i.historyList.length++},this.drawByImage=function(t){var e=i.get(\"context\"),n=i.get(\"width\"),o=i.get(\"height\");e.clearRect(0,0,n,o);try{t&&e.drawImage(t,0,0,n,o),e.draw&&e.draw(!0)}catch(t){i.historyList.length=0}},this.isEmpty=function(){return i.get(\"options\").maxHistoryLength>0?0===i.historyList.length:i._isEmpty},this.clear=function(){if(!i.get(\"options\").disabled){var t=i.get(\"context\");t.clearRect(0,0,i.get(\"width\"),i.get(\"height\")),t.draw&&t.draw(),i._isEmpty=!0,D=null,i.historyList.length=0}},this.undo=function(){if(!i.get(\"options\").disabled&&(0===i.get(\"options\").maxHistoryLength&&i.clear(),i.get(\"createImage\")&&i.historyList.length)){var t=i.historyList.pop();i.drawByImage(t),i.undoneList.push(D),D=t,i.historyList.length||i.undoneList.length||i.clear()}},this.redo=function(){if(i.undoneList.length&&!i.get(\"options\").disabled){var t=i.undoneList.pop();i.historyList.push(D),i.drawByImage(t),D=t,i._isEmpty=!1}},this.canvas=e,this.canvas.set(\"pen\",S),this.init()}return a(t,[{key:\"getOption\",value:function(){}},{key:\"setOption\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e({},t),n=i.maxLineWidth;if(n&&t.penSize&&n==S.maxLineWidth){var o=Math.max(n,t.penSize);i.maxLineWidth=o}this.canvas.set(\"pen\",Object.assign({},S,i))}},{key:\"get\",value:function(t){return this.canvas.get(\"options\"==t?\"pen\":t)}},{key:\"init\",value:function(){var t=this;this.get(\"context\").lineCap=\"round\",this.canvas.on(\"touchstart\",(function(e){return t.onDrawStart(e)})),this.canvas.on(\"touchmove\",(function(e){return t.onDrawMove(e)})),this.canvas.on(\"touchend\",(function(e){return t.onDrawEnd(e)}))}},{key:\"drawBackground\",value:function(){var t=this.get(\"context\"),e=this.get(\"width\"),i=this.get(\"height\"),n=this.get(\"options\"),o=n.backgroundColor,a=n.backgroundImage;o&&(t.fillStyle=o,t.fillRect(0,0,e,i),t.draw&&t.draw(!0)),a&&this.drawByImage(a)}},{key:\"getImageData\",value:function(t){if(t){var e=this.get(\"width\"),i=this.get(\"height\"),n=this.get(\"el\"),o=\"CANVAS\"===n.nodeName,a=o?e:n.width,r=o?i:n.height;if(o){var s=document.createElement(\"canvas\");s.width=e,s.height=i;var h=s.getContext(\"2d\");h.drawImage(n,0,0,e,i);var u=h.getImageData(0,0,e,i).data;return t(u)}var c,l=this.get(\"context\").getImageData(0,0,a,r);return v(c=l)&&g(c.then)&&g(c.catch)?(l.then((function(e){return t(e.data)})),null):t(l.data)}}},{key:\"getMaskedImageData\",value:function(t){if(t)return this.getImageData((function(e){for(var i=0;e.length>i;i+=4){0===e[i+3]?(e[i]=0,e[i+1]=0,e[i+2]=0):(e[i]=255,e[i+1]=255,e[i+2]=255)}return t(e)}))}},{key:\"getContentBoundingBox\",value:function(t){var e=this.get(\"pixelRatio\"),i=this.get(\"width\"),n=this.get(\"height\"),o=this.get(\"el\"),a=\"CANVAS\"===o.nodeName,r=a?i:o.width,s=a?n:o.height;e=a?1:e;return this.getImageData((function(i){for(var n=Math.floor(r),o=n,a=Math.floor(s),h=0,u=0,c=0;i.length>c;c+=4){if(i[c+3]>0){var l=c/4%n,v=Math.floor(c/4/n);o=Math.min(o,l),a=Math.min(a,v),h=Math.max(h,l),u=Math.max(u,v)}}var f={width:(h-o+1)/e,height:(u-a+1)/e,startX:o/e,startY:a/e};return t&&t(f),f}))}},{key:\"remove\",value:function(){var t=this;this.canvas.off(\"touchstart\",(function(e){return t.onDrawStart(e)})),this.canvas.off(\"touchmove\",(function(e){return t.onDrawMove(e)})),this.canvas.off(\"touchend\",(function(e){return t.onDrawEnd(e)}))}},{key:\"disableScroll\",value:function(t){t.preventDefault&&this.get(\"options\").disableScroll&&t.preventDefault()}},{key:\"onDrawStart\",value:function(t){if(!this.get(\"options\").disabled){this.disableScroll(t),this.undoneList.length=0;var e=t.points;if(this.active){this.canAddHistory=!0,this.get(\"context\").strokeStyle=this.get(\"options\").penColor;var i=e[0];this.initPoint(i.x,i.y)}}}},{key:\"onDrawMove\",value:function(t){if(!this.get(\"options\").disabled&&(this.disableScroll(t),this.active)){var e=t.points[0];this.initPoint(e.x,e.y),this.onDraw()}}},{key:\"onDrawEnd\",value:function(t){this.active&&!this.get(\"options\").disabled&&(this.addHistory(),this.canAddHistory=!0,this.points=[])}},{key:\"onDraw\",value:function(){var t=this,e=this.get(\"context\");if(this.points.length>=2){e.lineWidth=this.get(\"options\").penSize||2;var i=this.points.slice(-1)[0],n=this.points.slice(-2,-1)[0],o=function(){t._isEmpty=!1,t.get(\"options\").openSmooth?t.drawSmoothLine(n,i):t.drawNoSmoothLine(n,i)};o()}}},{key:\"getMaxLineWidth\",value:function(){var t=this.get(\"options\");return Math.min(t.penSize,t.maxLineWidth)}},{key:\"initPoint\",value:function(t,e){var i={x:t,y:e,t:Date.now()},n=this.points.slice(-1)[0];if(!n||n.t!==i.t&&(n.x!==t||n.y!==e)){if(this.get(\"options\").openSmooth&&n){var o=this.points.slice(-2,-1)[0];if(i.distance=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)),i.speed=i.distance/(i.t-n.t||.1),i.lineWidth=this.getLineWidth(i.speed),o&&o.lineWidth&&n.lineWidth){var a=(i.lineWidth-n.lineWidth)/n.lineWidth,r=this.get(\"options\").maxWidthDiffRate/100;if(r=r>1?1:.01>r?.01:r,Math.abs(a)>r)i.lineWidth=n.lineWidth*(1+(a>0?r:-r))}}this.points.push(i),this.points=this.points.slice(-3)}}}]),t}(),W=function(){function t(e){n(this,t),this.canvas=void 0,this._ee=void 0,this.pen=void 0;var i=new T(e);i.set(\"parent\",this),this.canvas=i,this._ee=new m,this.pen=new O(i),this.init()}return a(t,[{key:\"init\",value:function(){this.pen.active=!0}},{key:\"destroy\",value:function(){this.canvas.destroy()}},{key:\"clear\",value:function(){this.pen.clear()}},{key:\"undo\",value:function(){this.pen.undo()}},{key:\"redo\",value:function(){this.pen.redo()}},{key:\"save\",value:function(){}},{key:\"getContentBoundingBox\",value:function(t){return this.pen.getContentBoundingBox(t)}},{key:\"getMaskedImageData\",value:function(t){return this.pen.getMaskedImageData(t)}},{key:\"isEmpty\",value:function(){return this.pen.isEmpty()}},{key:\"on\",value:function(t,e){this._ee.on(t,e)}},{key:\"emit\",value:function(t,e){this._ee.emit(t,e)}},{key:\"off\",value:function(t,e){this._ee.off(t,e)}}]),t}();export default W;export{W as Signature};\n"],"names":["t","e","i","n","o","a","r","s","h","u","c","l","v","f"],"mappings":"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"}